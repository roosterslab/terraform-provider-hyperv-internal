2025-11-17T03:33:43.788+0530 [INFO]  Terraform version: 1.13.4
2025-11-17T03:33:43.791+0530 [DEBUG] using github.com/hashicorp/go-tfe v1.74.1
2025-11-17T03:33:43.791+0530 [DEBUG] using github.com/hashicorp/hcl/v2 v2.24.0
2025-11-17T03:33:43.791+0530 [DEBUG] using github.com/hashicorp/terraform-svchost v0.1.1
2025-11-17T03:33:43.791+0530 [DEBUG] using github.com/zclconf/go-cty v1.16.3
2025-11-17T03:33:43.791+0530 [INFO]  Go runtime version: go1.24.5
2025-11-17T03:33:43.791+0530 [INFO]  CLI args: []string{"C:\\Program Files (x86)\\terraform\\terraform.exe", "apply", "-auto-approve", "-input=false", "-var", "endpoint=http://localhost:5006", "-var", "vm_name=user-demo-win", "-var", "base_vhdx_path=C:/HyperV/VHDX/Users/templates/windows-base.vhdx"}
2025-11-17T03:33:43.791+0530 [DEBUG] Attempting to open CLI config file: C:\Users\ws-user\Documents\projects\hyper-v-experiments\terraform-provider-hypervapi-v2\dev.tfrc
2025-11-17T03:33:43.791+0530 [INFO]  Loading CLI configuration from C:\Users\ws-user\Documents\projects\hyper-v-experiments\terraform-provider-hypervapi-v2\dev.tfrc
2025-11-17T03:33:43.791+0530 [DEBUG] Not reading CLI config directory because config location is overridden by environment variable
2025-11-17T03:33:43.801+0530 [DEBUG] Explicit provider installation configuration is set
2025-11-17T03:33:43.801+0530 [INFO]  CLI command args: []string{"apply", "-auto-approve", "-input=false", "-var", "endpoint=http://localhost:5006", "-var", "vm_name=user-demo-win", "-var", "base_vhdx_path=C:/HyperV/VHDX/Users/templates/windows-base.vhdx"}
2025-11-17T03:33:43.808+0530 [DEBUG] Provider registry.terraform.io/vinitsiriya/hypervapiv2 is overridden by dev_overrides
2025-11-17T03:33:43.808+0530 [DEBUG] Provider registry.terraform.io/vinitsiriya/hypervapiv2 is overridden to load from C:\Users\ws-user\Documents\projects\hyper-v-experiments\terraform-provider-hypervapi-v2\bin
2025-11-17T03:33:43.808+0530 [DEBUG] checking for provisioner in "../../bin"
2025-11-17T03:33:43.808+0530 [DEBUG] Provider registry.terraform.io/vinitsiriya/hypervapiv2 is overridden by dev_overrides
2025-11-17T03:33:43.808+0530 [INFO]  backend/local: starting Apply operation
2025-11-17T03:33:43.818+0530 [DEBUG] Config.VerifyDependencySelections: skipping registry.terraform.io/vinitsiriya/hypervapiv2 because it's overridden by a special configuration setting
2025-11-17T03:33:43.818+0530 [DEBUG] backend/local: Skipping interactive prompts for variables because input is disabled
2025-11-17T03:33:43.818+0530 [DEBUG] created provider logger: level=debug
2025-11-17T03:33:43.818+0530 [INFO]  provider: configuring client automatic mTLS
2025-11-17T03:33:44.109+0530 [DEBUG] provider: starting plugin: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe args=["C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe"]
2025-11-17T03:33:44.209+0530 [DEBUG] provider: plugin started: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe pid=3908
2025-11-17T03:33:44.209+0530 [DEBUG] provider: waiting for RPC address: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe
2025-11-17T03:33:44.289+0530 [INFO]  provider.terraform-provider-hypervapiv2.exe: configuring server automatic mTLS: timestamp="2025-11-17T03:33:44.288+0530"
2025-11-17T03:33:44.313+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: plugin address: address=127.0.0.1:10001 network=tcp timestamp="2025-11-17T03:33:44.313+0530"
2025-11-17T03:33:44.313+0530 [DEBUG] provider: using plugin: version=6
2025-11-17T03:33:44.425+0530 [DEBUG] No provider meta schema returned
2025-11-17T03:33:44.428+0530 [DEBUG] provider.stdio: received EOF, stopping recv loop: err="rpc error: code = Unavailable desc = error reading from server: EOF"
2025-11-17T03:33:44.436+0530 [INFO]  provider: plugin process exited: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe id=3908
2025-11-17T03:33:44.436+0530 [DEBUG] provider: plugin exited
2025-11-17T03:33:44.436+0530 [DEBUG] Building and walking validate graph
2025-11-17T03:33:44.441+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T03:33:44.441+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_disk_plan.os" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T03:33:44.441+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_policy.current" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T03:33:44.442+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win" references: [var.vm_name data.hypervapiv2_disk_plan.os var.base_vhdx_path]
2025-11-17T03:33:44.442+0530 [DEBUG] ReferenceTransformer: "var.base_vhdx_path" references: []
2025-11-17T03:33:44.442+0530 [DEBUG] ReferenceTransformer: "var.username" references: []
2025-11-17T03:33:44.442+0530 [DEBUG] ReferenceTransformer: "output.os_disk_path (expand)" references: [data.hypervapiv2_disk_plan.os]
2025-11-17T03:33:44.442+0530 [DEBUG] ReferenceTransformer: "output.policy_roots (expand)" references: [data.hypervapiv2_policy.current]
2025-11-17T03:33:44.442+0530 [DEBUG] ReferenceTransformer: "output.base_vhdx (expand)" references: [var.base_vhdx_path]
2025-11-17T03:33:44.442+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_disk_plan.os" references: [var.vm_name var.base_vhdx_path]
2025-11-17T03:33:44.442+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_policy.current" references: []
2025-11-17T03:33:44.442+0530 [DEBUG] ReferenceTransformer: "var.vm_name" references: []
2025-11-17T03:33:44.442+0530 [DEBUG] ReferenceTransformer: "var.endpoint" references: []
2025-11-17T03:33:44.442+0530 [DEBUG] ReferenceTransformer: "var.password" references: []
2025-11-17T03:33:44.442+0530 [DEBUG] ReferenceTransformer: "output.policy_extensions (expand)" references: [data.hypervapiv2_policy.current]
2025-11-17T03:33:44.443+0530 [DEBUG] ReferenceTransformer: "provider[\"registry.terraform.io/vinitsiriya/hypervapiv2\"]" references: [var.endpoint var.password var.username]
2025-11-17T03:33:44.443+0530 [DEBUG] Starting graph walk: walkValidate
2025-11-17T03:33:44.445+0530 [DEBUG] created provider logger: level=debug
2025-11-17T03:33:44.446+0530 [INFO]  provider: configuring client automatic mTLS
2025-11-17T03:33:44.582+0530 [DEBUG] provider: starting plugin: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe args=["C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe"]
2025-11-17T03:33:44.583+0530 [DEBUG] provider: plugin started: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe pid=18296
2025-11-17T03:33:44.583+0530 [DEBUG] provider: waiting for RPC address: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe
2025-11-17T03:33:44.669+0530 [INFO]  provider.terraform-provider-hypervapiv2.exe: configuring server automatic mTLS: timestamp="2025-11-17T03:33:44.668+0530"
2025-11-17T03:33:44.687+0530 [DEBUG] provider: using plugin: version=6
2025-11-17T03:33:44.690+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: plugin address: network=tcp address=127.0.0.1:10001 timestamp="2025-11-17T03:33:44.687+0530"
2025-11-17T03:33:44.799+0530 [DEBUG] provider.stdio: received EOF, stopping recv loop: err="rpc error: code = Unavailable desc = error reading from server: EOF"
2025-11-17T03:33:44.809+0530 [INFO]  provider: plugin process exited: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe id=18296
2025-11-17T03:33:44.809+0530 [DEBUG] provider: plugin exited
2025-11-17T03:33:44.809+0530 [INFO]  backend/local: apply calling Plan
2025-11-17T03:33:44.809+0530 [DEBUG] Building and walking plan graph for NormalMode
2025-11-17T03:33:44.810+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win (expand)" (*terraform.nodeExpandPlannableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T03:33:44.810+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_disk_plan.os (expand)" (*terraform.nodeExpandPlannableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T03:33:44.810+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_policy.current (expand)" (*terraform.nodeExpandPlannableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T03:33:44.810+0530 [DEBUG] ReferenceTransformer: "output.base_vhdx (expand)" references: [var.base_vhdx_path]
2025-11-17T03:33:44.810+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_policy.current (expand)" references: []
2025-11-17T03:33:44.810+0530 [DEBUG] ReferenceTransformer: "var.endpoint" references: []
2025-11-17T03:33:44.810+0530 [DEBUG] ReferenceTransformer: "var.username" references: []
2025-11-17T03:33:44.810+0530 [DEBUG] ReferenceTransformer: "var.vm_name" references: []
2025-11-17T03:33:44.810+0530 [DEBUG] ReferenceTransformer: "output.os_disk_path (expand)" references: [data.hypervapiv2_disk_plan.os (expand)]
2025-11-17T03:33:44.810+0530 [DEBUG] ReferenceTransformer: "output.policy_extensions (expand)" references: [data.hypervapiv2_policy.current (expand)]
2025-11-17T03:33:44.810+0530 [DEBUG] ReferenceTransformer: "provider[\"registry.terraform.io/vinitsiriya/hypervapiv2\"]" references: [var.endpoint var.password var.username]
2025-11-17T03:33:44.810+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win (expand)" references: [var.vm_name var.base_vhdx_path data.hypervapiv2_disk_plan.os (expand)]
2025-11-17T03:33:44.810+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_disk_plan.os (expand)" references: [var.base_vhdx_path var.vm_name]
2025-11-17T03:33:44.810+0530 [DEBUG] ReferenceTransformer: "var.password" references: []
2025-11-17T03:33:44.810+0530 [DEBUG] ReferenceTransformer: "var.base_vhdx_path" references: []
2025-11-17T03:33:44.810+0530 [DEBUG] ReferenceTransformer: "output.policy_roots (expand)" references: [data.hypervapiv2_policy.current (expand)]
2025-11-17T03:33:44.813+0530 [DEBUG] Starting graph walk: walkPlan
2025-11-17T03:33:44.813+0530 [DEBUG] created provider logger: level=debug
2025-11-17T03:33:44.813+0530 [INFO]  provider: configuring client automatic mTLS
2025-11-17T03:33:44.889+0530 [DEBUG] provider: starting plugin: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe args=["C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe"]
2025-11-17T03:33:44.897+0530 [DEBUG] provider: plugin started: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe pid=30800
2025-11-17T03:33:44.897+0530 [DEBUG] provider: waiting for RPC address: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe
2025-11-17T03:33:45.024+0530 [INFO]  provider.terraform-provider-hypervapiv2.exe: configuring server automatic mTLS: timestamp="2025-11-17T03:33:45.024+0530"
2025-11-17T03:33:45.066+0530 [DEBUG] provider: using plugin: version=6
2025-11-17T03:33:45.067+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: plugin address: address=127.0.0.1:10001 network=tcp timestamp="2025-11-17T03:33:45.066+0530"
2025-11-17T03:33:45.188+0530 [INFO]  provider.terraform-provider-hypervapiv2.exe: hypervapiv2 configured: tf_req_id=47678758-7b16-c8c1-9247-62e25621b041 tf_rpc=ConfigureProvider @module=hypervapiv2 endpoint=http://localhost:5006 @caller=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/internal/provider/provider.go:134 auth=negotiate tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 timestamp="2025-11-17T03:33:45.188+0530"
2025-11-17T03:33:45.188+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: @module=sdk.proto diagnostic_severity=WARNING tf_proto_version=6.6 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=47678758-7b16-c8c1-9247-62e25621b041 tf_rpc=ConfigureProvider @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 diagnostic_detail="endpoint=http://localhost:5006, auth=negotiate" diagnostic_summary="provider configured" timestamp="2025-11-17T03:33:45.188+0530"
2025-11-17T03:33:45.190+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_policy.current" references: []
2025-11-17T03:33:45.190+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_disk_plan.os" references: []
2025-11-17T03:33:45.290+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=purpose tf_data_source_type=hypervapiv2_disk_plan tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=c653f939-29d8-485a-97be-6260f4ba4336 tf_rpc=ReadDataSource timestamp="2025-11-17T03:33:45.290+0530"
2025-11-17T03:33:45.290+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_data_source_type=hypervapiv2_disk_plan tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 @module=sdk.framework tf_req_id=c653f939-29d8-485a-97be-6260f4ba4336 tf_rpc=ReadDataSource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=clone_from timestamp="2025-11-17T03:33:45.290+0530"
2025-11-17T03:33:45.292+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_data_source_type=hypervapiv2_disk_plan tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=c653f939-29d8-485a-97be-6260f4ba4336 @module=sdk.framework tf_attribute_path=vm_name tf_rpc=ReadDataSource timestamp="2025-11-17T03:33:45.291+0530"
2025-11-17T03:33:45.292+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_req_id=c653f939-29d8-485a-97be-6260f4ba4336 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_rpc=ReadDataSource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=operation tf_data_source_type=hypervapiv2_disk_plan timestamp="2025-11-17T03:33:45.291+0530"
2025-11-17T03:33:45.293+0530 [DEBUG] Resource instance state not found for node "hypervapiv2_vm.win", instance hypervapiv2_vm.win
2025-11-17T03:33:45.293+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win" references: []
2025-11-17T03:33:45.293+0530 [DEBUG] refresh: hypervapiv2_vm.win: no state, so not refreshing
2025-11-17T03:33:45.304+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Marking Computed attributes with null configuration values as unknown (known after apply) in the plan to prevent potential Terraform errors: tf_req_id=050aa1f3-9c9f-cca9-a174-8ec3b8585205 tf_resource_type=hypervapiv2_vm tf_rpc=PlanResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwserver/server_planresourcechange.go:217 @module=sdk.framework tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 timestamp="2025-11-17T03:33:45.304+0530"
2025-11-17T03:33:45.307+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: marking computed attribute that is null in the config as unknown: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwserver/server_planresourcechange.go:467 tf_attribute_path="AttributeName(\"id\")" tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 @module=sdk.framework tf_req_id=050aa1f3-9c9f-cca9-a174-8ec3b8585205 tf_resource_type=hypervapiv2_vm tf_rpc=PlanResourceChange timestamp="2025-11-17T03:33:45.306+0530"
2025-11-17T03:33:45.319+0530 [DEBUG] provider.stdio: received EOF, stopping recv loop: err="rpc error: code = Unavailable desc = error reading from server: EOF"
2025-11-17T03:33:45.333+0530 [INFO]  provider: plugin process exited: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe id=30800
2025-11-17T03:33:45.333+0530 [DEBUG] provider: plugin exited
2025-11-17T03:33:45.334+0530 [DEBUG] building apply graph to check for errors
2025-11-17T03:33:45.335+0530 [DEBUG] Resource state not found for node "hypervapiv2_vm.win", instance hypervapiv2_vm.win
2025-11-17T03:33:45.336+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_disk_plan.os (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T03:33:45.336+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win" (*terraform.NodeApplyableResourceInstance) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T03:33:45.336+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T03:33:45.336+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_policy.current (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T03:33:45.336+0530 [DEBUG] ReferenceTransformer: "output.os_disk_path (expand)" references: [data.hypervapiv2_disk_plan.os (expand)]
2025-11-17T03:33:45.336+0530 [DEBUG] ReferenceTransformer: "output.policy_roots (expand)" references: [data.hypervapiv2_policy.current (expand)]
2025-11-17T03:33:45.336+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_disk_plan.os (expand)" references: [var.base_vhdx_path var.vm_name]
2025-11-17T03:33:45.336+0530 [DEBUG] ReferenceTransformer: "var.base_vhdx_path" references: []
2025-11-17T03:33:45.336+0530 [DEBUG] ReferenceTransformer: "output.policy_extensions (expand)" references: [data.hypervapiv2_policy.current (expand)]
2025-11-17T03:33:45.336+0530 [DEBUG] ReferenceTransformer: "output.base_vhdx (expand)" references: [var.base_vhdx_path]
2025-11-17T03:33:45.336+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win" references: [var.vm_name data.hypervapiv2_disk_plan.os (expand) var.base_vhdx_path]
2025-11-17T03:33:45.336+0530 [DEBUG] ReferenceTransformer: "provider[\"registry.terraform.io/vinitsiriya/hypervapiv2\"]" references: [var.endpoint var.username var.password]
2025-11-17T03:33:45.336+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win (expand)" references: [var.vm_name data.hypervapiv2_disk_plan.os (expand) var.base_vhdx_path]
2025-11-17T03:33:45.336+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_policy.current (expand)" references: []
2025-11-17T03:33:45.336+0530 [DEBUG] ReferenceTransformer: "var.username" references: []
2025-11-17T03:33:45.336+0530 [DEBUG] ReferenceTransformer: "var.password" references: []
2025-11-17T03:33:45.336+0530 [DEBUG] ReferenceTransformer: "var.vm_name" references: []
2025-11-17T03:33:45.336+0530 [DEBUG] ReferenceTransformer: "var.endpoint" references: []
2025-11-17T03:33:45.340+0530 [INFO]  backend/local: apply calling Apply
2025-11-17T03:33:45.340+0530 [DEBUG] Building and walking apply graph for NormalMode plan
2025-11-17T03:33:45.340+0530 [DEBUG] Resource state not found for node "hypervapiv2_vm.win", instance hypervapiv2_vm.win
2025-11-17T03:33:45.340+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T03:33:45.340+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win" (*terraform.NodeApplyableResourceInstance) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T03:33:45.340+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_disk_plan.os (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T03:33:45.340+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_policy.current (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T03:33:45.340+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_disk_plan.os (expand)" references: [var.base_vhdx_path var.vm_name]
2025-11-17T03:33:45.340+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_policy.current (expand)" references: []
2025-11-17T03:33:45.340+0530 [DEBUG] ReferenceTransformer: "var.password" references: []
2025-11-17T03:33:45.340+0530 [DEBUG] ReferenceTransformer: "var.vm_name" references: []
2025-11-17T03:33:45.340+0530 [DEBUG] ReferenceTransformer: "var.endpoint" references: []
2025-11-17T03:33:45.340+0530 [DEBUG] ReferenceTransformer: "output.os_disk_path (expand)" references: [data.hypervapiv2_disk_plan.os (expand)]
2025-11-17T03:33:45.340+0530 [DEBUG] ReferenceTransformer: "output.policy_roots (expand)" references: [data.hypervapiv2_policy.current (expand)]
2025-11-17T03:33:45.340+0530 [DEBUG] ReferenceTransformer: "output.policy_extensions (expand)" references: [data.hypervapiv2_policy.current (expand)]
2025-11-17T03:33:45.340+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win (expand)" references: [var.vm_name var.base_vhdx_path data.hypervapiv2_disk_plan.os (expand)]
2025-11-17T03:33:45.340+0530 [DEBUG] ReferenceTransformer: "var.username" references: []
2025-11-17T03:33:45.340+0530 [DEBUG] ReferenceTransformer: "var.base_vhdx_path" references: []
2025-11-17T03:33:45.340+0530 [DEBUG] ReferenceTransformer: "output.base_vhdx (expand)" references: [var.base_vhdx_path]
2025-11-17T03:33:45.340+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win" references: [var.vm_name var.base_vhdx_path data.hypervapiv2_disk_plan.os (expand)]
2025-11-17T03:33:45.340+0530 [DEBUG] ReferenceTransformer: "provider[\"registry.terraform.io/vinitsiriya/hypervapiv2\"]" references: [var.endpoint var.password var.username]
2025-11-17T03:33:45.343+0530 [DEBUG] Starting graph walk: walkApply
2025-11-17T03:33:45.344+0530 [DEBUG] created provider logger: level=debug
2025-11-17T03:33:45.344+0530 [INFO]  provider: configuring client automatic mTLS
2025-11-17T03:33:45.436+0530 [DEBUG] provider: starting plugin: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe args=["C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe"]
2025-11-17T03:33:45.444+0530 [DEBUG] provider: plugin started: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe pid=37912
2025-11-17T03:33:45.444+0530 [DEBUG] provider: waiting for RPC address: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe
2025-11-17T03:33:45.507+0530 [INFO]  provider.terraform-provider-hypervapiv2.exe: configuring server automatic mTLS: timestamp="2025-11-17T03:33:45.507+0530"
2025-11-17T03:33:45.538+0530 [DEBUG] provider: using plugin: version=6
2025-11-17T03:33:45.538+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: plugin address: network=tcp address=127.0.0.1:10001 timestamp="2025-11-17T03:33:45.537+0530"
2025-11-17T03:33:45.705+0530 [INFO]  provider.terraform-provider-hypervapiv2.exe: hypervapiv2 configured: endpoint=http://localhost:5006 tf_req_id=6de1f795-30ee-8656-7ec5-977189ffae7f @caller=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/internal/provider/provider.go:134 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_rpc=ConfigureProvider @module=hypervapiv2 auth=negotiate timestamp="2025-11-17T03:33:45.705+0530"
2025-11-17T03:33:45.705+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: tf_proto_version=6.6 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=6de1f795-30ee-8656-7ec5-977189ffae7f tf_rpc=ConfigureProvider @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 @module=sdk.proto diagnostic_detail="endpoint=http://localhost:5006, auth=negotiate" diagnostic_severity=WARNING diagnostic_summary="provider configured" timestamp="2025-11-17T03:33:45.705+0530"
2025-11-17T03:33:45.726+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Marking Computed attributes with null configuration values as unknown (known after apply) in the plan to prevent potential Terraform errors: tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=dba88f85-63b6-6377-6a9f-e5a618acff31 tf_resource_type=hypervapiv2_vm tf_rpc=PlanResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwserver/server_planresourcechange.go:217 @module=sdk.framework timestamp="2025-11-17T03:33:45.726+0530"
2025-11-17T03:33:45.727+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: marking computed attribute that is null in the config as unknown: tf_attribute_path="AttributeName(\"id\")" tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_rpc=PlanResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwserver/server_planresourcechange.go:467 @module=sdk.framework tf_req_id=dba88f85-63b6-6377-6a9f-e5a618acff31 tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T03:33:45.727+0530"
2025-11-17T03:33:45.736+0530 [INFO]  Starting apply for hypervapiv2_vm.win
2025-11-17T03:33:45.737+0530 [DEBUG] hypervapiv2_vm.win: applying the planned Create change
2025-11-17T03:34:06.265+0530 [DEBUG] provider.stdio: received EOF, stopping recv loop: err="rpc error: code = Unavailable desc = error reading from server: read tcp 127.0.0.1:51761->127.0.0.1:10001: wsarecv: An existing connection was forcibly closed by the remote host."
2025-11-17T03:34:06.265+0530 [ERROR] plugin6.(*GRPCProvider).ApplyResourceChange: error="rpc error: code = Unavailable desc = error reading from server: read tcp 127.0.0.1:51761->127.0.0.1:10001: wsarecv: An existing connection was forcibly closed by the remote host."
2025-11-17T03:34:06.268+0530 [DEBUG] State storage *statemgr.Filesystem declined to persist a state snapshot
2025-11-17T03:34:06.268+0530 [ERROR] vertex "hypervapiv2_vm.win" error: Plugin did not respond
2025-11-17T03:34:06.274+0530 [ERROR] provider: plugin process exited: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe id=37912 error="exit status 0xc000013a"
2025-11-17T03:34:06.275+0530 [DEBUG] provider: plugin exited
2025-11-17T17:23:30.861+0530 [INFO]  Terraform version: 1.13.4
2025-11-17T17:23:30.862+0530 [DEBUG] using github.com/hashicorp/go-tfe v1.74.1
2025-11-17T17:23:30.862+0530 [DEBUG] using github.com/hashicorp/hcl/v2 v2.24.0
2025-11-17T17:23:30.862+0530 [DEBUG] using github.com/hashicorp/terraform-svchost v0.1.1
2025-11-17T17:23:30.862+0530 [DEBUG] using github.com/zclconf/go-cty v1.16.3
2025-11-17T17:23:30.862+0530 [INFO]  Go runtime version: go1.24.5
2025-11-17T17:23:30.862+0530 [INFO]  CLI args: []string{"C:\\Program Files (x86)\\terraform\\terraform.exe", "apply", "-auto-approve", "-input=false", "-var", "endpoint=http://localhost:5006", "-var", "vm_name=user-sample-windows-vm-3", "-var", "base_vhdx_path=C:/HyperV/VHDX/Users/templates/windows-base.vhdx"}
2025-11-17T17:23:30.863+0530 [DEBUG] Attempting to open CLI config file: C:\Users\ws-user\Documents\projects\hyper-v-experiments\terraform-provider-hypervapi-v2\dev.tfrc
2025-11-17T17:23:30.864+0530 [INFO]  Loading CLI configuration from C:\Users\ws-user\Documents\projects\hyper-v-experiments\terraform-provider-hypervapi-v2\dev.tfrc
2025-11-17T17:23:30.864+0530 [DEBUG] Not reading CLI config directory because config location is overridden by environment variable
2025-11-17T17:23:30.871+0530 [DEBUG] checking for credentials in "C:\\Users\\ws-user\\AppData\\Roaming\\terraform.d\\plugins"
2025-11-17T17:23:30.872+0530 [DEBUG] Explicit provider installation configuration is set
2025-11-17T17:23:30.872+0530 [INFO]  CLI command args: []string{"apply", "-auto-approve", "-input=false", "-var", "endpoint=http://localhost:5006", "-var", "vm_name=user-sample-windows-vm-3", "-var", "base_vhdx_path=C:/HyperV/VHDX/Users/templates/windows-base.vhdx"}
2025-11-17T17:23:30.881+0530 [DEBUG] Provider registry.terraform.io/vinitsiriya/hypervapiv2 is overridden by dev_overrides
2025-11-17T17:23:30.881+0530 [DEBUG] Provider registry.terraform.io/vinitsiriya/hypervapiv2 is overridden to load from C:\Users\ws-user\Documents\projects\hyper-v-experiments\terraform-provider-hypervapi-v2\bin
2025-11-17T17:23:30.881+0530 [DEBUG] checking for provisioner in "."
2025-11-17T17:23:30.881+0530 [DEBUG] checking for provisioner in "C:\\Program Files (x86)\\terraform"
2025-11-17T17:23:30.882+0530 [DEBUG] checking for provisioner in "C:\\Users\\ws-user\\AppData\\Roaming\\terraform.d\\plugins"
2025-11-17T17:23:30.882+0530 [DEBUG] Provider registry.terraform.io/vinitsiriya/hypervapiv2 is overridden by dev_overrides
2025-11-17T17:23:30.884+0530 [INFO]  backend/local: starting Apply operation
2025-11-17T17:23:30.900+0530 [DEBUG] Config.VerifyDependencySelections: skipping registry.terraform.io/vinitsiriya/hypervapiv2 because it's overridden by a special configuration setting
2025-11-17T17:23:30.900+0530 [DEBUG] backend/local: Skipping interactive prompts for variables because input is disabled
2025-11-17T17:23:30.901+0530 [DEBUG] created provider logger: level=debug
2025-11-17T17:23:30.901+0530 [INFO]  provider: configuring client automatic mTLS
2025-11-17T17:23:31.294+0530 [DEBUG] provider: starting plugin: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe args=["C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe"]
2025-11-17T17:23:31.314+0530 [DEBUG] provider: plugin started: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe pid=35788
2025-11-17T17:23:31.315+0530 [DEBUG] provider: waiting for RPC address: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe
2025-11-17T17:23:31.398+0530 [INFO]  provider.terraform-provider-hypervapiv2.exe: configuring server automatic mTLS: timestamp="2025-11-17T17:23:31.398+0530"
2025-11-17T17:23:31.434+0530 [DEBUG] provider: using plugin: version=6
2025-11-17T17:23:31.434+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: plugin address: address=127.0.0.1:10000 network=tcp timestamp="2025-11-17T17:23:31.434+0530"
2025-11-17T17:23:31.605+0530 [DEBUG] No provider meta schema returned
2025-11-17T17:23:31.608+0530 [DEBUG] provider.stdio: received EOF, stopping recv loop: err="rpc error: code = Unavailable desc = error reading from server: EOF"
2025-11-17T17:23:31.622+0530 [INFO]  provider: plugin process exited: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe id=35788
2025-11-17T17:23:31.622+0530 [DEBUG] provider: plugin exited
2025-11-17T17:23:31.622+0530 [DEBUG] Building and walking validate graph
2025-11-17T17:23:31.622+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:23:31.622+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_disk_plan.os" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:23:31.622+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_policy.current" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:23:31.622+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_disk_plan.os" references: [var.vm_name var.base_vhdx_path]
2025-11-17T17:23:31.622+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_policy.current" references: []
2025-11-17T17:23:31.622+0530 [DEBUG] ReferenceTransformer: "var.vm_name" references: []
2025-11-17T17:23:31.622+0530 [DEBUG] ReferenceTransformer: "var.username" references: []
2025-11-17T17:23:31.622+0530 [DEBUG] ReferenceTransformer: "var.password" references: []
2025-11-17T17:23:31.622+0530 [DEBUG] ReferenceTransformer: "output.os_disk_path (expand)" references: [data.hypervapiv2_disk_plan.os]
2025-11-17T17:23:31.622+0530 [DEBUG] ReferenceTransformer: "output.base_vhdx (expand)" references: [var.base_vhdx_path]
2025-11-17T17:23:31.622+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win" references: [var.vm_name data.hypervapiv2_disk_plan.os var.base_vhdx_path]
2025-11-17T17:23:31.622+0530 [DEBUG] ReferenceTransformer: "var.base_vhdx_path" references: []
2025-11-17T17:23:31.622+0530 [DEBUG] ReferenceTransformer: "var.endpoint" references: []
2025-11-17T17:23:31.622+0530 [DEBUG] ReferenceTransformer: "output.policy_roots (expand)" references: [data.hypervapiv2_policy.current]
2025-11-17T17:23:31.622+0530 [DEBUG] ReferenceTransformer: "output.policy_extensions (expand)" references: [data.hypervapiv2_policy.current]
2025-11-17T17:23:31.622+0530 [DEBUG] ReferenceTransformer: "provider[\"registry.terraform.io/vinitsiriya/hypervapiv2\"]" references: [var.endpoint var.password var.username]
2025-11-17T17:23:31.622+0530 [DEBUG] Starting graph walk: walkValidate
2025-11-17T17:23:31.628+0530 [DEBUG] created provider logger: level=debug
2025-11-17T17:23:31.628+0530 [INFO]  provider: configuring client automatic mTLS
2025-11-17T17:23:31.785+0530 [DEBUG] provider: starting plugin: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe args=["C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe"]
2025-11-17T17:23:31.795+0530 [DEBUG] provider: plugin started: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe pid=35580
2025-11-17T17:23:31.795+0530 [DEBUG] provider: waiting for RPC address: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe
2025-11-17T17:23:31.869+0530 [INFO]  provider.terraform-provider-hypervapiv2.exe: configuring server automatic mTLS: timestamp="2025-11-17T17:23:31.868+0530"
2025-11-17T17:23:31.908+0530 [DEBUG] provider: using plugin: version=6
2025-11-17T17:23:31.914+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: plugin address: address=127.0.0.1:10000 network=tcp timestamp="2025-11-17T17:23:31.908+0530"
2025-11-17T17:23:32.060+0530 [DEBUG] provider.stdio: received EOF, stopping recv loop: err="rpc error: code = Unavailable desc = error reading from server: EOF"
2025-11-17T17:23:32.072+0530 [INFO]  provider: plugin process exited: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe id=35580
2025-11-17T17:23:32.072+0530 [DEBUG] provider: plugin exited
2025-11-17T17:23:32.072+0530 [INFO]  backend/local: apply calling Plan
2025-11-17T17:23:32.072+0530 [DEBUG] Building and walking plan graph for NormalMode
2025-11-17T17:23:32.072+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_disk_plan.os (expand)" (*terraform.nodeExpandPlannableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:23:32.072+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_policy.current (expand)" (*terraform.nodeExpandPlannableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:23:32.072+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win (expand)" (*terraform.nodeExpandPlannableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:23:32.072+0530 [DEBUG] ReferenceTransformer: "output.policy_extensions (expand)" references: [data.hypervapiv2_policy.current (expand)]
2025-11-17T17:23:32.072+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win (expand)" references: [var.vm_name var.base_vhdx_path data.hypervapiv2_disk_plan.os (expand)]
2025-11-17T17:23:32.072+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_disk_plan.os (expand)" references: [var.vm_name var.base_vhdx_path]
2025-11-17T17:23:32.072+0530 [DEBUG] ReferenceTransformer: "var.base_vhdx_path" references: []
2025-11-17T17:23:32.072+0530 [DEBUG] ReferenceTransformer: "output.policy_roots (expand)" references: [data.hypervapiv2_policy.current (expand)]
2025-11-17T17:23:32.072+0530 [DEBUG] ReferenceTransformer: "output.base_vhdx (expand)" references: [var.base_vhdx_path]
2025-11-17T17:23:32.072+0530 [DEBUG] ReferenceTransformer: "provider[\"registry.terraform.io/vinitsiriya/hypervapiv2\"]" references: [var.endpoint var.password var.username]
2025-11-17T17:23:32.072+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_policy.current (expand)" references: []
2025-11-17T17:23:32.072+0530 [DEBUG] ReferenceTransformer: "var.endpoint" references: []
2025-11-17T17:23:32.074+0530 [DEBUG] ReferenceTransformer: "var.username" references: []
2025-11-17T17:23:32.074+0530 [DEBUG] ReferenceTransformer: "var.password" references: []
2025-11-17T17:23:32.074+0530 [DEBUG] ReferenceTransformer: "var.vm_name" references: []
2025-11-17T17:23:32.074+0530 [DEBUG] ReferenceTransformer: "output.os_disk_path (expand)" references: [data.hypervapiv2_disk_plan.os (expand)]
2025-11-17T17:23:32.074+0530 [DEBUG] Starting graph walk: walkPlan
2025-11-17T17:23:32.074+0530 [DEBUG] created provider logger: level=debug
2025-11-17T17:23:32.074+0530 [INFO]  provider: configuring client automatic mTLS
2025-11-17T17:23:32.168+0530 [DEBUG] provider: starting plugin: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe args=["C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe"]
2025-11-17T17:23:32.174+0530 [DEBUG] provider: plugin started: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe pid=34820
2025-11-17T17:23:32.176+0530 [DEBUG] provider: waiting for RPC address: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe
2025-11-17T17:23:32.265+0530 [INFO]  provider.terraform-provider-hypervapiv2.exe: configuring server automatic mTLS: timestamp="2025-11-17T17:23:32.265+0530"
2025-11-17T17:23:32.313+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: plugin address: address=127.0.0.1:10000 network=tcp timestamp="2025-11-17T17:23:32.313+0530"
2025-11-17T17:23:32.314+0530 [DEBUG] provider: using plugin: version=6
2025-11-17T17:23:32.475+0530 [INFO]  provider.terraform-provider-hypervapiv2.exe: hypervapiv2 configured: @caller=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/internal/provider/provider.go:134 endpoint=http://localhost:5006 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 @module=hypervapiv2 auth=negotiate tf_req_id=90eb3e6a-720c-263c-27ed-36cdb8309933 tf_rpc=ConfigureProvider timestamp="2025-11-17T17:23:32.474+0530"
2025-11-17T17:23:32.476+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: tf_proto_version=6.6 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=90eb3e6a-720c-263c-27ed-36cdb8309933 tf_rpc=ConfigureProvider @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 @module=sdk.proto diagnostic_detail="endpoint=http://localhost:5006, auth=negotiate" diagnostic_severity=WARNING diagnostic_summary="provider configured" timestamp="2025-11-17T17:23:32.476+0530"
2025-11-17T17:23:32.477+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_policy.current" references: []
2025-11-17T17:23:32.478+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_disk_plan.os" references: []
2025-11-17T17:23:32.598+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @module=sdk.framework tf_attribute_path=vm_name @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_data_source_type=hypervapiv2_disk_plan tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=0d8ccc60-b137-ea84-c058-25c66da8815e tf_rpc=ReadDataSource timestamp="2025-11-17T17:23:32.597+0530"
2025-11-17T17:23:32.598+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_attribute_path=clone_from tf_data_source_type=hypervapiv2_disk_plan tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=0d8ccc60-b137-ea84-c058-25c66da8815e tf_rpc=ReadDataSource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework timestamp="2025-11-17T17:23:32.598+0530"
2025-11-17T17:23:32.598+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_rpc=ReadDataSource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=operation tf_data_source_type=hypervapiv2_disk_plan tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 @module=sdk.framework tf_req_id=0d8ccc60-b137-ea84-c058-25c66da8815e timestamp="2025-11-17T17:23:32.598+0530"
2025-11-17T17:23:32.598+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_req_id=0d8ccc60-b137-ea84-c058-25c66da8815e tf_attribute_path=purpose tf_data_source_type=hypervapiv2_disk_plan tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_rpc=ReadDataSource timestamp="2025-11-17T17:23:32.598+0530"
2025-11-17T17:23:32.602+0530 [DEBUG] Resource instance state not found for node "hypervapiv2_vm.win", instance hypervapiv2_vm.win
2025-11-17T17:23:32.603+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win" references: []
2025-11-17T17:23:32.604+0530 [DEBUG] refresh: hypervapiv2_vm.win: no state, so not refreshing
2025-11-17T17:23:32.619+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Marking Computed attributes with null configuration values as unknown (known after apply) in the plan to prevent potential Terraform errors: tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwserver/server_planresourcechange.go:217 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=e0f1a136-a651-2901-d241-452fcf4b21c9 tf_rpc=PlanResourceChange @module=sdk.framework timestamp="2025-11-17T17:23:32.618+0530"
2025-11-17T17:23:32.619+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: marking computed attribute that is null in the config as unknown: tf_attribute_path="AttributeName(\"id\")" @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwserver/server_planresourcechange.go:467 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=e0f1a136-a651-2901-d241-452fcf4b21c9 tf_resource_type=hypervapiv2_vm tf_rpc=PlanResourceChange @module=sdk.framework timestamp="2025-11-17T17:23:32.619+0530"
2025-11-17T17:23:32.635+0530 [DEBUG] provider.stdio: received EOF, stopping recv loop: err="rpc error: code = Unavailable desc = error reading from server: EOF"
2025-11-17T17:23:32.651+0530 [INFO]  provider: plugin process exited: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe id=34820
2025-11-17T17:23:32.651+0530 [DEBUG] provider: plugin exited
2025-11-17T17:23:32.653+0530 [DEBUG] building apply graph to check for errors
2025-11-17T17:23:32.653+0530 [DEBUG] Resource state not found for node "hypervapiv2_vm.win", instance hypervapiv2_vm.win
2025-11-17T17:23:32.654+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win" (*terraform.NodeApplyableResourceInstance) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:23:32.654+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:23:32.654+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_disk_plan.os (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:23:32.654+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_policy.current (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:23:32.655+0530 [DEBUG] ReferenceTransformer: "output.os_disk_path (expand)" references: [data.hypervapiv2_disk_plan.os (expand)]
2025-11-17T17:23:32.655+0530 [DEBUG] ReferenceTransformer: "output.policy_extensions (expand)" references: [data.hypervapiv2_policy.current (expand)]
2025-11-17T17:23:32.655+0530 [DEBUG] ReferenceTransformer: "var.endpoint" references: []
2025-11-17T17:23:32.655+0530 [DEBUG] ReferenceTransformer: "var.password" references: []
2025-11-17T17:23:32.655+0530 [DEBUG] ReferenceTransformer: "output.policy_roots (expand)" references: [data.hypervapiv2_policy.current (expand)]
2025-11-17T17:23:32.655+0530 [DEBUG] ReferenceTransformer: "output.base_vhdx (expand)" references: [var.base_vhdx_path]
2025-11-17T17:23:32.655+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win" references: [var.vm_name data.hypervapiv2_disk_plan.os (expand) var.base_vhdx_path]
2025-11-17T17:23:32.655+0530 [DEBUG] ReferenceTransformer: "provider[\"registry.terraform.io/vinitsiriya/hypervapiv2\"]" references: [var.endpoint var.password var.username]
2025-11-17T17:23:32.655+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win (expand)" references: [var.vm_name data.hypervapiv2_disk_plan.os (expand) var.base_vhdx_path]
2025-11-17T17:23:32.655+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_disk_plan.os (expand)" references: [var.vm_name var.base_vhdx_path]
2025-11-17T17:23:32.655+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_policy.current (expand)" references: []
2025-11-17T17:23:32.655+0530 [DEBUG] ReferenceTransformer: "var.username" references: []
2025-11-17T17:23:32.655+0530 [DEBUG] ReferenceTransformer: "var.vm_name" references: []
2025-11-17T17:23:32.655+0530 [DEBUG] ReferenceTransformer: "var.base_vhdx_path" references: []
2025-11-17T17:23:32.664+0530 [INFO]  backend/local: apply calling Apply
2025-11-17T17:23:32.664+0530 [DEBUG] Building and walking apply graph for NormalMode plan
2025-11-17T17:23:32.664+0530 [DEBUG] Resource state not found for node "hypervapiv2_vm.win", instance hypervapiv2_vm.win
2025-11-17T17:23:32.665+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:23:32.665+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_policy.current (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:23:32.665+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_disk_plan.os (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:23:32.665+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win" (*terraform.NodeApplyableResourceInstance) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:23:32.666+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_policy.current (expand)" references: []
2025-11-17T17:23:32.666+0530 [DEBUG] ReferenceTransformer: "var.vm_name" references: []
2025-11-17T17:23:32.666+0530 [DEBUG] ReferenceTransformer: "var.base_vhdx_path" references: []
2025-11-17T17:23:32.666+0530 [DEBUG] ReferenceTransformer: "var.username" references: []
2025-11-17T17:23:32.666+0530 [DEBUG] ReferenceTransformer: "var.password" references: []
2025-11-17T17:23:32.666+0530 [DEBUG] ReferenceTransformer: "output.policy_roots (expand)" references: [data.hypervapiv2_policy.current (expand)]
2025-11-17T17:23:32.666+0530 [DEBUG] ReferenceTransformer: "output.policy_extensions (expand)" references: [data.hypervapiv2_policy.current (expand)]
2025-11-17T17:23:32.666+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_disk_plan.os (expand)" references: [var.vm_name var.base_vhdx_path]
2025-11-17T17:23:32.666+0530 [DEBUG] ReferenceTransformer: "var.endpoint" references: []
2025-11-17T17:23:32.666+0530 [DEBUG] ReferenceTransformer: "output.base_vhdx (expand)" references: [var.base_vhdx_path]
2025-11-17T17:23:32.666+0530 [DEBUG] ReferenceTransformer: "output.os_disk_path (expand)" references: [data.hypervapiv2_disk_plan.os (expand)]
2025-11-17T17:23:32.667+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win" references: [var.vm_name data.hypervapiv2_disk_plan.os (expand) var.base_vhdx_path]
2025-11-17T17:23:32.667+0530 [DEBUG] ReferenceTransformer: "provider[\"registry.terraform.io/vinitsiriya/hypervapiv2\"]" references: [var.endpoint var.password var.username]
2025-11-17T17:23:32.667+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win (expand)" references: [var.vm_name data.hypervapiv2_disk_plan.os (expand) var.base_vhdx_path]
2025-11-17T17:23:32.668+0530 [DEBUG] Starting graph walk: walkApply
2025-11-17T17:23:32.669+0530 [DEBUG] created provider logger: level=debug
2025-11-17T17:23:32.670+0530 [INFO]  provider: configuring client automatic mTLS
2025-11-17T17:23:32.797+0530 [DEBUG] provider: starting plugin: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe args=["C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe"]
2025-11-17T17:23:32.799+0530 [DEBUG] provider: plugin started: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe pid=4076
2025-11-17T17:23:32.799+0530 [DEBUG] provider: waiting for RPC address: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe
2025-11-17T17:23:32.892+0530 [INFO]  provider.terraform-provider-hypervapiv2.exe: configuring server automatic mTLS: timestamp="2025-11-17T17:23:32.892+0530"
2025-11-17T17:23:32.921+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: plugin address: address=127.0.0.1:10000 network=tcp timestamp="2025-11-17T17:23:32.921+0530"
2025-11-17T17:23:32.921+0530 [DEBUG] provider: using plugin: version=6
2025-11-17T17:23:33.066+0530 [INFO]  provider.terraform-provider-hypervapiv2.exe: hypervapiv2 configured: tf_rpc=ConfigureProvider endpoint=http://localhost:5006 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 @caller=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/internal/provider/provider.go:134 @module=hypervapiv2 auth=negotiate tf_req_id=4fe8d3db-d7d3-77db-b008-9b0fe049a7bd timestamp="2025-11-17T17:23:33.066+0530"
2025-11-17T17:23:33.066+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: diagnostic_summary="provider configured" @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 tf_proto_version=6.6 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=4fe8d3db-d7d3-77db-b008-9b0fe049a7bd tf_rpc=ConfigureProvider @module=sdk.proto diagnostic_detail="endpoint=http://localhost:5006, auth=negotiate" diagnostic_severity=WARNING timestamp="2025-11-17T17:23:33.066+0530"
2025-11-17T17:23:33.080+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Marking Computed attributes with null configuration values as unknown (known after apply) in the plan to prevent potential Terraform errors: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwserver/server_planresourcechange.go:217 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=29a403db-5473-1e14-8194-c092a3903964 tf_resource_type=hypervapiv2_vm @module=sdk.framework tf_rpc=PlanResourceChange timestamp="2025-11-17T17:23:33.080+0530"
2025-11-17T17:23:33.082+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: marking computed attribute that is null in the config as unknown: @module=sdk.framework tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=29a403db-5473-1e14-8194-c092a3903964 tf_rpc=PlanResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwserver/server_planresourcechange.go:467 tf_attribute_path="AttributeName(\"id\")" tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:23:33.082+0530"
2025-11-17T17:23:33.092+0530 [INFO]  Starting apply for hypervapiv2_vm.win
2025-11-17T17:23:33.092+0530 [DEBUG] hypervapiv2_vm.win: applying the planned Create change
2025-11-17T17:25:28.108+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @module=sdk.framework tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=name tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:25:28.108+0530"
2025-11-17T17:25:28.108+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=memory tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:25:28.108+0530"
2025-11-17T17:25:28.109+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @module=sdk.framework tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=cpu tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b tf_rpc=ApplyResourceChange timestamp="2025-11-17T17:25:28.109+0530"
2025-11-17T17:25:28.109+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=power tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b @module=sdk.framework timestamp="2025-11-17T17:25:28.109+0530"
2025-11-17T17:25:28.109+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @module=sdk.framework tf_attribute_path=switch_name tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b timestamp="2025-11-17T17:25:28.109+0530"
2025-11-17T17:25:28.110+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_attribute_path=disk[0].boot tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_rpc=ApplyResourceChange @module=sdk.framework tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 timestamp="2025-11-17T17:25:28.109+0530"
2025-11-17T17:25:28.110+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=disk[0].path timestamp="2025-11-17T17:25:28.109+0530"
2025-11-17T17:25:28.110+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b tf_attribute_path=disk[0].controller tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange timestamp="2025-11-17T17:25:28.110+0530"
2025-11-17T17:25:28.110+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @module=sdk.framework tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=disk[0].lun tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange timestamp="2025-11-17T17:25:28.110+0530"
2025-11-17T17:25:28.110+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_attribute_path=disk[0].name tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:25:28.110+0530"
2025-11-17T17:25:28.110+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm tf_attribute_path=disk[0].purpose tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b timestamp="2025-11-17T17:25:28.110+0530"
2025-11-17T17:25:28.111+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=disk[0].clone_from tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_rpc=ApplyResourceChange @module=sdk.framework tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b timestamp="2025-11-17T17:25:28.110+0530"
2025-11-17T17:25:28.111+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=disk[0] tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b timestamp="2025-11-17T17:25:28.110+0530"
2025-11-17T17:25:28.111+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=disk tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange timestamp="2025-11-17T17:25:28.110+0530"
2025-11-17T17:25:28.111+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=firmware.secure_boot_template tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange timestamp="2025-11-17T17:25:28.110+0530"
2025-11-17T17:25:28.111+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @module=sdk.framework tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b tf_attribute_path=firmware.secure_boot tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 timestamp="2025-11-17T17:25:28.110+0530"
2025-11-17T17:25:28.111+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_attribute_path=firmware tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange @module=sdk.framework @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 timestamp="2025-11-17T17:25:28.110+0530"
2025-11-17T17:25:28.111+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=security.encrypt tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b tf_rpc=ApplyResourceChange tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:25:28.110+0530"
2025-11-17T17:25:28.111+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange tf_attribute_path=security.tpm tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 timestamp="2025-11-17T17:25:28.110+0530"
2025-11-17T17:25:28.112+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @module=sdk.framework tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=security tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b tf_rpc=ApplyResourceChange timestamp="2025-11-17T17:25:28.110+0530"
2025-11-17T17:25:28.112+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_attribute_path=vm_lifecycle.delete_disks tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:25:28.111+0530"
2025-11-17T17:25:28.112+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @module=sdk.framework tf_attribute_path=vm_lifecycle tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 timestamp="2025-11-17T17:25:28.111+0530"
2025-11-17T17:25:28.112+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: diagnostic_detail="from=C:/HyperV/VHDX/Users/templates/windows-base.vhdx to=C:\HyperV\VHDX\Users\test-user\user-sample-windows-vm-3.vhdx" diagnostic_severity=WARNING diagnostic_summary="clone enqueue" tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 @module=sdk.proto tf_proto_version=6.6 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b timestamp="2025-11-17T17:25:28.112+0530"
2025-11-17T17:25:28.112+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: diagnostic_detail=target=C:\HyperV\VHDX\Users\test-user\user-sample-windows-vm-3.vhdx diagnostic_severity=WARNING diagnostic_summary="clone complete" tf_proto_version=6.6 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 @module=sdk.proto tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange timestamp="2025-11-17T17:25:28.112+0530"
2025-11-17T17:25:28.113+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: diagnostic_detail=name=user-sample-windows-vm-3 diagnostic_summary="createvm request" tf_proto_version=6.6 tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 @module=sdk.proto diagnostic_severity=WARNING tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:25:28.112+0530"
2025-11-17T17:25:28.113+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: @module=sdk.proto diagnostic_severity=WARNING tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b diagnostic_detail=user-sample-windows-vm-3 diagnostic_summary="createvm ok" tf_proto_version=6.6 tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 timestamp="2025-11-17T17:25:28.112+0530"
2025-11-17T17:25:28.113+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: tf_proto_version=6.6 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_rpc=ApplyResourceChange @module=sdk.proto tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 diagnostic_detail="attachExisting=True; wrapper_failed_native_fallback; native_ms=6680; attach_os_vhd path=C:\HyperV\VHDX\Users\test-user\user-sample-windows-vm-3.vhdx; set_cpu count=4; set_memory mb=4096" diagnostic_severity=WARNING diagnostic_summary=server timestamp="2025-11-17T17:25:28.112+0530"
2025-11-17T17:25:28.113+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: diagnostic_detail="secure_boot=true template=MicrosoftWindows" diagnostic_severity=WARNING diagnostic_summary=firmware tf_proto_version=6.6 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 @module=sdk.proto tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 timestamp="2025-11-17T17:25:28.112+0530"
2025-11-17T17:25:28.113+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: @module=sdk.proto diagnostic_severity=WARNING tf_proto_version=6.6 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm diagnostic_detail="Server reports CPU count=0, expected=4" diagnostic_summary="vm cpu mismatch" tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 timestamp="2025-11-17T17:25:28.112+0530"
2025-11-17T17:25:28.113+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: diagnostic_summary="vm memory mismatch" tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=fca5006e-0e84-6ea8-1b00-f1f9f208c93b tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 @module=sdk.proto diagnostic_detail="Server reports startupMB=0, expected=4096" tf_proto_version=6.6 diagnostic_severity=WARNING timestamp="2025-11-17T17:25:28.112+0530"
2025-11-17T17:25:28.122+0530 [DEBUG] State storage *statemgr.Filesystem declined to persist a state snapshot
2025-11-17T17:25:28.125+0530 [DEBUG] provider.stdio: received EOF, stopping recv loop: err="rpc error: code = Unavailable desc = error reading from server: EOF"
2025-11-17T17:25:28.143+0530 [INFO]  provider: plugin process exited: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe id=4076
2025-11-17T17:25:28.143+0530 [DEBUG] provider: plugin exited
2025-11-17T17:29:27.204+0530 [INFO]  Terraform version: 1.13.4
2025-11-17T17:29:27.204+0530 [DEBUG] using github.com/hashicorp/go-tfe v1.74.1
2025-11-17T17:29:27.204+0530 [DEBUG] using github.com/hashicorp/hcl/v2 v2.24.0
2025-11-17T17:29:27.204+0530 [DEBUG] using github.com/hashicorp/terraform-svchost v0.1.1
2025-11-17T17:29:27.204+0530 [DEBUG] using github.com/zclconf/go-cty v1.16.3
2025-11-17T17:29:27.204+0530 [INFO]  Go runtime version: go1.24.5
2025-11-17T17:29:27.204+0530 [INFO]  CLI args: []string{"C:\\Program Files (x86)\\terraform\\terraform.exe", "apply", "-auto-approve", "-input=false", "-var", "endpoint=http://localhost:5006", "-var", "vm_name=user-sample-windows-vm-4", "-var", "base_vhdx_path=C:/HyperV/VHDX/Users/templates/windows-base.vhdx"}
2025-11-17T17:29:27.204+0530 [DEBUG] Attempting to open CLI config file: C:\Users\ws-user\Documents\projects\hyper-v-experiments\terraform-provider-hypervapi-v2\dev.tfrc
2025-11-17T17:29:27.204+0530 [INFO]  Loading CLI configuration from C:\Users\ws-user\Documents\projects\hyper-v-experiments\terraform-provider-hypervapi-v2\dev.tfrc
2025-11-17T17:29:27.204+0530 [DEBUG] Not reading CLI config directory because config location is overridden by environment variable
2025-11-17T17:29:27.217+0530 [DEBUG] checking for credentials in "C:\\Users\\ws-user\\AppData\\Roaming\\terraform.d\\plugins"
2025-11-17T17:29:27.218+0530 [DEBUG] Explicit provider installation configuration is set
2025-11-17T17:29:27.218+0530 [INFO]  CLI command args: []string{"apply", "-auto-approve", "-input=false", "-var", "endpoint=http://localhost:5006", "-var", "vm_name=user-sample-windows-vm-4", "-var", "base_vhdx_path=C:/HyperV/VHDX/Users/templates/windows-base.vhdx"}
2025-11-17T17:29:27.223+0530 [DEBUG] Provider registry.terraform.io/vinitsiriya/hypervapiv2 is overridden by dev_overrides
2025-11-17T17:29:27.223+0530 [DEBUG] Provider registry.terraform.io/vinitsiriya/hypervapiv2 is overridden to load from C:\Users\ws-user\Documents\projects\hyper-v-experiments\terraform-provider-hypervapi-v2\bin
2025-11-17T17:29:27.224+0530 [DEBUG] checking for provisioner in "."
2025-11-17T17:29:27.224+0530 [DEBUG] checking for provisioner in "C:\\Program Files (x86)\\terraform"
2025-11-17T17:29:27.224+0530 [DEBUG] checking for provisioner in "C:\\Users\\ws-user\\AppData\\Roaming\\terraform.d\\plugins"
2025-11-17T17:29:27.225+0530 [DEBUG] Provider registry.terraform.io/vinitsiriya/hypervapiv2 is overridden by dev_overrides
2025-11-17T17:29:27.226+0530 [INFO]  backend/local: starting Apply operation
2025-11-17T17:29:27.242+0530 [DEBUG] Config.VerifyDependencySelections: skipping registry.terraform.io/vinitsiriya/hypervapiv2 because it's overridden by a special configuration setting
2025-11-17T17:29:27.242+0530 [DEBUG] backend/local: Skipping interactive prompts for variables because input is disabled
2025-11-17T17:29:27.243+0530 [DEBUG] created provider logger: level=debug
2025-11-17T17:29:27.243+0530 [INFO]  provider: configuring client automatic mTLS
2025-11-17T17:29:27.627+0530 [DEBUG] provider: starting plugin: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe args=["C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe"]
2025-11-17T17:29:27.646+0530 [DEBUG] provider: plugin started: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe pid=34536
2025-11-17T17:29:27.646+0530 [DEBUG] provider: waiting for RPC address: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe
2025-11-17T17:29:27.772+0530 [INFO]  provider.terraform-provider-hypervapiv2.exe: configuring server automatic mTLS: timestamp="2025-11-17T17:29:27.771+0530"
2025-11-17T17:29:27.817+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: plugin address: address=127.0.0.1:10000 network=tcp timestamp="2025-11-17T17:29:27.817+0530"
2025-11-17T17:29:27.818+0530 [DEBUG] provider: using plugin: version=6
2025-11-17T17:29:28.005+0530 [DEBUG] No provider meta schema returned
2025-11-17T17:29:28.008+0530 [DEBUG] provider.stdio: received EOF, stopping recv loop: err="rpc error: code = Unavailable desc = error reading from server: EOF"
2025-11-17T17:29:28.024+0530 [INFO]  provider: plugin process exited: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe id=34536
2025-11-17T17:29:28.025+0530 [DEBUG] provider: plugin exited
2025-11-17T17:29:28.025+0530 [DEBUG] Building and walking validate graph
2025-11-17T17:29:28.026+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:29:28.026+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_disk_plan.os" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:29:28.026+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_policy.current" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:29:28.027+0530 [DEBUG] ReferenceTransformer: "provider[\"registry.terraform.io/vinitsiriya/hypervapiv2\"]" references: [var.endpoint var.password var.username]
2025-11-17T17:29:28.027+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win" references: [var.vm_name var.base_vhdx_path data.hypervapiv2_disk_plan.os]
2025-11-17T17:29:28.027+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_disk_plan.os" references: [var.vm_name var.base_vhdx_path]
2025-11-17T17:29:28.027+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_policy.current" references: []
2025-11-17T17:29:28.027+0530 [DEBUG] ReferenceTransformer: "var.endpoint" references: []
2025-11-17T17:29:28.027+0530 [DEBUG] ReferenceTransformer: "var.username" references: []
2025-11-17T17:29:28.027+0530 [DEBUG] ReferenceTransformer: "var.base_vhdx_path" references: []
2025-11-17T17:29:28.027+0530 [DEBUG] ReferenceTransformer: "output.os_disk_path (expand)" references: [data.hypervapiv2_disk_plan.os]
2025-11-17T17:29:28.027+0530 [DEBUG] ReferenceTransformer: "output.policy_extensions (expand)" references: [data.hypervapiv2_policy.current]
2025-11-17T17:29:28.027+0530 [DEBUG] ReferenceTransformer: "var.password" references: []
2025-11-17T17:29:28.027+0530 [DEBUG] ReferenceTransformer: "var.vm_name" references: []
2025-11-17T17:29:28.027+0530 [DEBUG] ReferenceTransformer: "output.policy_roots (expand)" references: [data.hypervapiv2_policy.current]
2025-11-17T17:29:28.027+0530 [DEBUG] ReferenceTransformer: "output.base_vhdx (expand)" references: [var.base_vhdx_path]
2025-11-17T17:29:28.028+0530 [DEBUG] Starting graph walk: walkValidate
2025-11-17T17:29:28.029+0530 [DEBUG] created provider logger: level=debug
2025-11-17T17:29:28.030+0530 [INFO]  provider: configuring client automatic mTLS
2025-11-17T17:29:28.162+0530 [DEBUG] provider: starting plugin: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe args=["C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe"]
2025-11-17T17:29:28.170+0530 [DEBUG] provider: plugin started: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe pid=34792
2025-11-17T17:29:28.170+0530 [DEBUG] provider: waiting for RPC address: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe
2025-11-17T17:29:28.294+0530 [INFO]  provider.terraform-provider-hypervapiv2.exe: configuring server automatic mTLS: timestamp="2025-11-17T17:29:28.294+0530"
2025-11-17T17:29:28.336+0530 [DEBUG] provider: using plugin: version=6
2025-11-17T17:29:28.336+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: plugin address: network=tcp address=127.0.0.1:10000 timestamp="2025-11-17T17:29:28.336+0530"
2025-11-17T17:29:28.549+0530 [DEBUG] provider.stdio: received EOF, stopping recv loop: err="rpc error: code = Unavailable desc = error reading from server: EOF"
2025-11-17T17:29:28.566+0530 [INFO]  provider: plugin process exited: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe id=34792
2025-11-17T17:29:28.566+0530 [DEBUG] provider: plugin exited
2025-11-17T17:29:28.567+0530 [INFO]  backend/local: apply calling Plan
2025-11-17T17:29:28.567+0530 [DEBUG] Building and walking plan graph for NormalMode
2025-11-17T17:29:28.568+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_disk_plan.os (expand)" (*terraform.nodeExpandPlannableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:29:28.568+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_policy.current (expand)" (*terraform.nodeExpandPlannableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:29:28.568+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win (expand)" (*terraform.nodeExpandPlannableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:29:28.569+0530 [DEBUG] ReferenceTransformer: "var.vm_name" references: []
2025-11-17T17:29:28.569+0530 [DEBUG] ReferenceTransformer: "var.base_vhdx_path" references: []
2025-11-17T17:29:28.569+0530 [DEBUG] ReferenceTransformer: "output.policy_roots (expand)" references: [data.hypervapiv2_policy.current (expand)]
2025-11-17T17:29:28.569+0530 [DEBUG] ReferenceTransformer: "provider[\"registry.terraform.io/vinitsiriya/hypervapiv2\"]" references: [var.endpoint var.password var.username]
2025-11-17T17:29:28.569+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win (expand)" references: [var.vm_name var.base_vhdx_path data.hypervapiv2_disk_plan.os (expand)]
2025-11-17T17:29:28.569+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_disk_plan.os (expand)" references: [var.vm_name var.base_vhdx_path]
2025-11-17T17:29:28.569+0530 [DEBUG] ReferenceTransformer: "var.password" references: []
2025-11-17T17:29:28.569+0530 [DEBUG] ReferenceTransformer: "output.os_disk_path (expand)" references: [data.hypervapiv2_disk_plan.os (expand)]
2025-11-17T17:29:28.569+0530 [DEBUG] ReferenceTransformer: "output.policy_extensions (expand)" references: [data.hypervapiv2_policy.current (expand)]
2025-11-17T17:29:28.569+0530 [DEBUG] ReferenceTransformer: "output.base_vhdx (expand)" references: [var.base_vhdx_path]
2025-11-17T17:29:28.569+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_policy.current (expand)" references: []
2025-11-17T17:29:28.569+0530 [DEBUG] ReferenceTransformer: "var.endpoint" references: []
2025-11-17T17:29:28.569+0530 [DEBUG] ReferenceTransformer: "var.username" references: []
2025-11-17T17:29:28.571+0530 [DEBUG] Starting graph walk: walkPlan
2025-11-17T17:29:28.572+0530 [DEBUG] created provider logger: level=debug
2025-11-17T17:29:28.573+0530 [INFO]  provider: configuring client automatic mTLS
2025-11-17T17:29:28.771+0530 [DEBUG] provider: starting plugin: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe args=["C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe"]
2025-11-17T17:29:28.782+0530 [DEBUG] provider: plugin started: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe pid=22400
2025-11-17T17:29:28.782+0530 [DEBUG] provider: waiting for RPC address: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe
2025-11-17T17:29:28.876+0530 [INFO]  provider.terraform-provider-hypervapiv2.exe: configuring server automatic mTLS: timestamp="2025-11-17T17:29:28.875+0530"
2025-11-17T17:29:28.920+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: plugin address: network=tcp address=127.0.0.1:10000 timestamp="2025-11-17T17:29:28.919+0530"
2025-11-17T17:29:28.920+0530 [DEBUG] provider: using plugin: version=6
2025-11-17T17:29:29.105+0530 [INFO]  provider.terraform-provider-hypervapiv2.exe: hypervapiv2 configured: tf_rpc=ConfigureProvider @caller=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/internal/provider/provider.go:134 @module=hypervapiv2 endpoint=http://localhost:5006 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 auth=negotiate tf_req_id=f3406142-26fd-0b19-0f2d-019bfecd4df2 timestamp="2025-11-17T17:29:29.105+0530"
2025-11-17T17:29:29.105+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: tf_rpc=ConfigureProvider @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 @module=sdk.proto diagnostic_detail="endpoint=http://localhost:5006, auth=negotiate" diagnostic_severity=WARNING tf_proto_version=6.6 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 diagnostic_summary="provider configured" tf_req_id=f3406142-26fd-0b19-0f2d-019bfecd4df2 timestamp="2025-11-17T17:29:29.105+0530"
2025-11-17T17:29:29.107+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_policy.current" references: []
2025-11-17T17:29:29.107+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_disk_plan.os" references: []
2025-11-17T17:29:29.227+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_rpc=ReadDataSource tf_data_source_type=hypervapiv2_disk_plan tf_req_id=2a69017f-c657-f479-7aa3-da1aeb89764c @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=clone_from timestamp="2025-11-17T17:29:29.227+0530"
2025-11-17T17:29:29.228+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_attribute_path=vm_name tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_data_source_type=hypervapiv2_disk_plan tf_req_id=2a69017f-c657-f479-7aa3-da1aeb89764c tf_rpc=ReadDataSource timestamp="2025-11-17T17:29:29.227+0530"
2025-11-17T17:29:29.228+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_attribute_path=operation tf_data_source_type=hypervapiv2_disk_plan tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=2a69017f-c657-f479-7aa3-da1aeb89764c tf_rpc=ReadDataSource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework timestamp="2025-11-17T17:29:29.227+0530"
2025-11-17T17:29:29.228+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=2a69017f-c657-f479-7aa3-da1aeb89764c tf_rpc=ReadDataSource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=purpose tf_data_source_type=hypervapiv2_disk_plan timestamp="2025-11-17T17:29:29.227+0530"
2025-11-17T17:29:29.230+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win" references: []
2025-11-17T17:29:34.575+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_attribute_path=cpu tf_req_id=a0425038-0cee-efc2-8aca-aa8ba3b6fdbb tf_rpc=ReadResource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm @module=sdk.framework timestamp="2025-11-17T17:29:34.574+0530"
2025-11-17T17:29:34.575+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm tf_rpc=ReadResource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_req_id=a0425038-0cee-efc2-8aca-aa8ba3b6fdbb @module=sdk.framework tf_attribute_path=power timestamp="2025-11-17T17:29:34.574+0530"
2025-11-17T17:29:34.575+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_rpc=ReadResource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=a0425038-0cee-efc2-8aca-aa8ba3b6fdbb @module=sdk.framework tf_attribute_path=id tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:29:34.575+0530"
2025-11-17T17:29:34.576+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=a0425038-0cee-efc2-8aca-aa8ba3b6fdbb tf_resource_type=hypervapiv2_vm tf_rpc=ReadResource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=name timestamp="2025-11-17T17:29:34.575+0530"
2025-11-17T17:29:34.576+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=memory tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=a0425038-0cee-efc2-8aca-aa8ba3b6fdbb tf_resource_type=hypervapiv2_vm tf_rpc=ReadResource timestamp="2025-11-17T17:29:34.575+0530"
2025-11-17T17:29:34.576+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_resource_type=hypervapiv2_vm tf_attribute_path=switch_name tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=a0425038-0cee-efc2-8aca-aa8ba3b6fdbb tf_rpc=ReadResource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework timestamp="2025-11-17T17:29:34.575+0530"
2025-11-17T17:29:34.576+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_req_id=a0425038-0cee-efc2-8aca-aa8ba3b6fdbb tf_resource_type=hypervapiv2_vm @module=sdk.framework tf_attribute_path=security.tpm tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_rpc=ReadResource timestamp="2025-11-17T17:29:34.576+0530"
2025-11-17T17:29:34.576+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_rpc=ReadResource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_resource_type=hypervapiv2_vm @module=sdk.framework tf_attribute_path=security.encrypt tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=a0425038-0cee-efc2-8aca-aa8ba3b6fdbb timestamp="2025-11-17T17:29:34.576+0530"
2025-11-17T17:29:34.576+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=security tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=a0425038-0cee-efc2-8aca-aa8ba3b6fdbb tf_resource_type=hypervapiv2_vm tf_rpc=ReadResource timestamp="2025-11-17T17:29:34.576+0530"
2025-11-17T17:29:34.576+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @module=sdk.framework tf_attribute_path=vm_lifecycle.delete_disks tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=a0425038-0cee-efc2-8aca-aa8ba3b6fdbb tf_resource_type=hypervapiv2_vm tf_rpc=ReadResource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 timestamp="2025-11-17T17:29:34.576+0530"
2025-11-17T17:29:34.576+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=vm_lifecycle tf_resource_type=hypervapiv2_vm @module=sdk.framework tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=a0425038-0cee-efc2-8aca-aa8ba3b6fdbb tf_rpc=ReadResource timestamp="2025-11-17T17:29:34.576+0530"
2025-11-17T17:29:34.577+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=a0425038-0cee-efc2-8aca-aa8ba3b6fdbb tf_rpc=ReadResource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=disk[0].path tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:29:34.576+0530"
2025-11-17T17:29:34.577+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_resource_type=hypervapiv2_vm @module=sdk.framework tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=a0425038-0cee-efc2-8aca-aa8ba3b6fdbb tf_rpc=ReadResource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=disk[0].purpose timestamp="2025-11-17T17:29:34.577+0530"
2025-11-17T17:29:34.577+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=disk[0].clone_from tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=a0425038-0cee-efc2-8aca-aa8ba3b6fdbb tf_resource_type=hypervapiv2_vm tf_rpc=ReadResource timestamp="2025-11-17T17:29:34.577+0530"
2025-11-17T17:29:34.577+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_rpc=ReadResource @module=sdk.framework tf_attribute_path=disk[0].boot tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=a0425038-0cee-efc2-8aca-aa8ba3b6fdbb tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:29:34.577+0530"
2025-11-17T17:29:34.577+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_req_id=a0425038-0cee-efc2-8aca-aa8ba3b6fdbb tf_resource_type=hypervapiv2_vm tf_rpc=ReadResource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=disk[0].lun tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 timestamp="2025-11-17T17:29:34.577+0530"
2025-11-17T17:29:34.577+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=disk[0].name tf_resource_type=hypervapiv2_vm tf_rpc=ReadResource @module=sdk.framework tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=a0425038-0cee-efc2-8aca-aa8ba3b6fdbb timestamp="2025-11-17T17:29:34.577+0530"
2025-11-17T17:29:34.577+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=disk[0].controller tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_rpc=ReadResource tf_req_id=a0425038-0cee-efc2-8aca-aa8ba3b6fdbb tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:29:34.577+0530"
2025-11-17T17:29:34.577+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @module=sdk.framework tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=a0425038-0cee-efc2-8aca-aa8ba3b6fdbb tf_resource_type=hypervapiv2_vm tf_rpc=ReadResource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=disk[0] timestamp="2025-11-17T17:29:34.577+0530"
2025-11-17T17:29:34.577+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=disk tf_req_id=a0425038-0cee-efc2-8aca-aa8ba3b6fdbb tf_rpc=ReadResource tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 timestamp="2025-11-17T17:29:34.577+0530"
2025-11-17T17:29:34.577+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_attribute_path=firmware.secure_boot_template tf_req_id=a0425038-0cee-efc2-8aca-aa8ba3b6fdbb tf_resource_type=hypervapiv2_vm tf_rpc=ReadResource timestamp="2025-11-17T17:29:34.577+0530"
2025-11-17T17:29:34.578+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=firmware.secure_boot tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_rpc=ReadResource tf_req_id=a0425038-0cee-efc2-8aca-aa8ba3b6fdbb tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:29:34.577+0530"
2025-11-17T17:29:34.578+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_attribute_path=firmware tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=a0425038-0cee-efc2-8aca-aa8ba3b6fdbb @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_resource_type=hypervapiv2_vm tf_rpc=ReadResource timestamp="2025-11-17T17:29:34.577+0530"
2025-11-17T17:29:34.599+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Detected value change between proposed new state and prior state: @module=sdk.framework tf_attribute_path=name tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=771d9f48-7e8e-afe1-2f3a-da0d6e3a1b33 tf_resource_type=hypervapiv2_vm tf_rpc=PlanResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwserver/server_planresourcechange.go:208 timestamp="2025-11-17T17:29:34.599+0530"
2025-11-17T17:29:34.600+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Detected value change between proposed new state and prior state: tf_req_id=771d9f48-7e8e-afe1-2f3a-da0d6e3a1b33 tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwserver/server_planresourcechange.go:208 @module=sdk.framework tf_attribute_path=disk tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_rpc=PlanResourceChange timestamp="2025-11-17T17:29:34.599+0530"
2025-11-17T17:29:34.600+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Marking Computed attributes with null configuration values as unknown (known after apply) in the plan to prevent potential Terraform errors: tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwserver/server_planresourcechange.go:217 @module=sdk.framework tf_req_id=771d9f48-7e8e-afe1-2f3a-da0d6e3a1b33 tf_rpc=PlanResourceChange timestamp="2025-11-17T17:29:34.599+0530"
2025-11-17T17:29:34.601+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: marking computed attribute that is null in the config as unknown: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwserver/server_planresourcechange.go:467 @module=sdk.framework tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=771d9f48-7e8e-afe1-2f3a-da0d6e3a1b33 tf_resource_type=hypervapiv2_vm tf_rpc=PlanResourceChange tf_attribute_path="AttributeName(\"id\")" timestamp="2025-11-17T17:29:34.601+0530"
2025-11-17T17:29:34.619+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Marking Computed attributes with null configuration values as unknown (known after apply) in the plan to prevent potential Terraform errors: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwserver/server_planresourcechange.go:217 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_rpc=PlanResourceChange @module=sdk.framework tf_req_id=be8ddc02-5a43-eff5-5fc0-72c1a9924403 tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:29:34.619+0530"
2025-11-17T17:29:34.621+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: marking computed attribute that is null in the config as unknown: tf_attribute_path="AttributeName(\"id\")" tf_resource_type=hypervapiv2_vm tf_rpc=PlanResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwserver/server_planresourcechange.go:467 @module=sdk.framework tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=be8ddc02-5a43-eff5-5fc0-72c1a9924403 timestamp="2025-11-17T17:29:34.620+0530"
2025-11-17T17:29:34.633+0530 [DEBUG] provider.stdio: received EOF, stopping recv loop: err="rpc error: code = Unavailable desc = error reading from server: EOF"
2025-11-17T17:29:34.654+0530 [INFO]  provider: plugin process exited: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe id=22400
2025-11-17T17:29:34.654+0530 [DEBUG] provider: plugin exited
2025-11-17T17:29:34.657+0530 [DEBUG] building apply graph to check for errors
2025-11-17T17:29:34.658+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_disk_plan.os (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:29:34.658+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win (destroy)" (*terraform.NodeDestroyResourceInstance) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:29:34.658+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:29:34.658+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_policy.current (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:29:34.658+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win" (*terraform.NodeApplyableResourceInstance) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:29:34.659+0530 [DEBUG] ReferenceTransformer: "provider[\"registry.terraform.io/vinitsiriya/hypervapiv2\"]" references: [var.endpoint var.username var.password]
2025-11-17T17:29:34.659+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_disk_plan.os (expand)" references: [var.vm_name var.base_vhdx_path]
2025-11-17T17:29:34.659+0530 [DEBUG] ReferenceTransformer: "var.username" references: []
2025-11-17T17:29:34.659+0530 [DEBUG] ReferenceTransformer: "var.base_vhdx_path" references: []
2025-11-17T17:29:34.659+0530 [DEBUG] ReferenceTransformer: "output.base_vhdx (expand)" references: [var.base_vhdx_path]
2025-11-17T17:29:34.659+0530 [DEBUG] ReferenceTransformer: "output.os_disk_path (expand)" references: [data.hypervapiv2_disk_plan.os (expand)]
2025-11-17T17:29:34.659+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win (expand)" references: [var.vm_name var.base_vhdx_path data.hypervapiv2_disk_plan.os (expand)]
2025-11-17T17:29:34.659+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_policy.current (expand)" references: []
2025-11-17T17:29:34.659+0530 [DEBUG] ReferenceTransformer: "var.password" references: []
2025-11-17T17:29:34.659+0530 [DEBUG] ReferenceTransformer: "output.policy_extensions (expand)" references: [data.hypervapiv2_policy.current (expand)]
2025-11-17T17:29:34.659+0530 [DEBUG] ReferenceTransformer: "var.vm_name" references: []
2025-11-17T17:29:34.659+0530 [DEBUG] ReferenceTransformer: "var.endpoint" references: []
2025-11-17T17:29:34.659+0530 [DEBUG] ReferenceTransformer: "output.policy_roots (expand)" references: [data.hypervapiv2_policy.current (expand)]
2025-11-17T17:29:34.660+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win" references: [var.vm_name var.base_vhdx_path data.hypervapiv2_disk_plan.os (expand)]
2025-11-17T17:29:34.664+0530 [INFO]  backend/local: apply calling Apply
2025-11-17T17:29:34.664+0530 [DEBUG] Building and walking apply graph for NormalMode plan
2025-11-17T17:29:34.666+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_policy.current (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:29:34.666+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:29:34.666+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win" (*terraform.NodeApplyableResourceInstance) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:29:34.666+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_disk_plan.os (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:29:34.666+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win (destroy)" (*terraform.NodeDestroyResourceInstance) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:29:34.667+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_disk_plan.os (expand)" references: [var.vm_name var.base_vhdx_path]
2025-11-17T17:29:34.667+0530 [DEBUG] ReferenceTransformer: "var.password" references: []
2025-11-17T17:29:34.667+0530 [DEBUG] ReferenceTransformer: "var.base_vhdx_path" references: []
2025-11-17T17:29:34.667+0530 [DEBUG] ReferenceTransformer: "output.policy_roots (expand)" references: [data.hypervapiv2_policy.current (expand)]
2025-11-17T17:29:34.667+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_policy.current (expand)" references: []
2025-11-17T17:29:34.668+0530 [DEBUG] ReferenceTransformer: "var.endpoint" references: []
2025-11-17T17:29:34.668+0530 [DEBUG] ReferenceTransformer: "var.username" references: []
2025-11-17T17:29:34.668+0530 [DEBUG] ReferenceTransformer: "output.base_vhdx (expand)" references: [var.base_vhdx_path]
2025-11-17T17:29:34.668+0530 [DEBUG] ReferenceTransformer: "provider[\"registry.terraform.io/vinitsiriya/hypervapiv2\"]" references: [var.endpoint var.password var.username]
2025-11-17T17:29:34.669+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win (expand)" references: [var.vm_name var.base_vhdx_path data.hypervapiv2_disk_plan.os (expand)]
2025-11-17T17:29:34.669+0530 [DEBUG] ReferenceTransformer: "var.vm_name" references: []
2025-11-17T17:29:34.669+0530 [DEBUG] ReferenceTransformer: "output.os_disk_path (expand)" references: [data.hypervapiv2_disk_plan.os (expand)]
2025-11-17T17:29:34.669+0530 [DEBUG] ReferenceTransformer: "output.policy_extensions (expand)" references: [data.hypervapiv2_policy.current (expand)]
2025-11-17T17:29:34.671+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win" references: [var.vm_name var.base_vhdx_path data.hypervapiv2_disk_plan.os (expand)]
2025-11-17T17:29:34.673+0530 [DEBUG] Starting graph walk: walkApply
2025-11-17T17:29:34.675+0530 [DEBUG] created provider logger: level=debug
2025-11-17T17:29:34.675+0530 [INFO]  provider: configuring client automatic mTLS
2025-11-17T17:29:34.773+0530 [DEBUG] provider: starting plugin: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe args=["C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe"]
2025-11-17T17:29:34.782+0530 [DEBUG] provider: plugin started: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe pid=31208
2025-11-17T17:29:34.782+0530 [DEBUG] provider: waiting for RPC address: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe
2025-11-17T17:29:34.881+0530 [INFO]  provider.terraform-provider-hypervapiv2.exe: configuring server automatic mTLS: timestamp="2025-11-17T17:29:34.880+0530"
2025-11-17T17:29:34.932+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: plugin address: address=127.0.0.1:10000 network=tcp timestamp="2025-11-17T17:29:34.932+0530"
2025-11-17T17:29:34.932+0530 [DEBUG] provider: using plugin: version=6
2025-11-17T17:29:35.095+0530 [INFO]  provider.terraform-provider-hypervapiv2.exe: hypervapiv2 configured: tf_req_id=dd7e2221-307f-8589-2e30-02996296e49d auth=negotiate tf_rpc=ConfigureProvider @caller=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/internal/provider/provider.go:134 @module=hypervapiv2 endpoint=http://localhost:5006 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 timestamp="2025-11-17T17:29:35.095+0530"
2025-11-17T17:29:35.095+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: diagnostic_severity=WARNING tf_rpc=ConfigureProvider diagnostic_detail="endpoint=http://localhost:5006, auth=negotiate" diagnostic_summary="provider configured" tf_proto_version=6.6 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=dd7e2221-307f-8589-2e30-02996296e49d @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 @module=sdk.proto timestamp="2025-11-17T17:29:35.095+0530"
2025-11-17T17:29:35.100+0530 [INFO]  Starting apply for hypervapiv2_vm.win
2025-11-17T17:29:35.100+0530 [DEBUG] hypervapiv2_vm.win: applying the planned Delete change
2025-11-17T17:29:59.012+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60
  diagnostic_detail=
  | {
  |   "correlationId": null,
  |   "details": {
  |     "disks": [
  |       {
  |         "path": "C:\\HyperV\\VHDX\\Users\\test-user\\user-sample-windows-vm-3.vhdx",
  |         "reason": null,
  |         "status": "deleted"
  |       }
  |     ]
  |   },
  |   "message": "deleted; disks: 1 deleted, 0 failed",
  |   "name": "user-sample-windows-vm-3",
  |   "ok": true,
  |   "timeUtc": "2025-11-17T11:59:58.9900486+00:00",
  |   "vm": null,
  |   "vmId": "bf8370c3-fc09-4de7-84d3-da75f91f109e"
  | }
   diagnostic_severity=WARNING diagnostic_summary="delete response" tf_proto_version=6.6 tf_req_id=e06ca270-fe56-52c6-6b8c-2fb96e02681d @module=sdk.proto tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 timestamp="2025-11-17T17:29:59.012+0530"
2025-11-17T17:29:59.024+0530 [DEBUG] State storage *statemgr.Filesystem declined to persist a state snapshot
2025-11-17T17:29:59.040+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Marking Computed attributes with null configuration values as unknown (known after apply) in the plan to prevent potential Terraform errors: @module=sdk.framework tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwserver/server_planresourcechange.go:217 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=80be4589-b4f3-1768-fb24-a1a981f4678c tf_rpc=PlanResourceChange timestamp="2025-11-17T17:29:59.040+0530"
2025-11-17T17:29:59.042+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: marking computed attribute that is null in the config as unknown: tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=80be4589-b4f3-1768-fb24-a1a981f4678c @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwserver/server_planresourcechange.go:467 tf_resource_type=hypervapiv2_vm tf_rpc=PlanResourceChange @module=sdk.framework tf_attribute_path="AttributeName(\"id\")" timestamp="2025-11-17T17:29:59.041+0530"
2025-11-17T17:29:59.055+0530 [INFO]  Starting apply for hypervapiv2_vm.win
2025-11-17T17:29:59.056+0530 [DEBUG] hypervapiv2_vm.win: applying the planned Create change
2025-11-17T17:31:46.652+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_attribute_path=cpu tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange timestamp="2025-11-17T17:31:46.652+0530"
2025-11-17T17:31:46.652+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=name tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 tf_resource_type=hypervapiv2_vm @module=sdk.framework tf_rpc=ApplyResourceChange timestamp="2025-11-17T17:31:46.652+0530"
2025-11-17T17:31:46.652+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_rpc=ApplyResourceChange tf_attribute_path=switch_name tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:31:46.652+0530"
2025-11-17T17:31:46.652+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_attribute_path=memory tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 @module=sdk.framework timestamp="2025-11-17T17:31:46.652+0530"
2025-11-17T17:31:46.654+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=power tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 tf_resource_type=hypervapiv2_vm @module=sdk.framework timestamp="2025-11-17T17:31:46.653+0530"
2025-11-17T17:31:46.654+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_rpc=ApplyResourceChange @module=sdk.framework tf_attribute_path=security.tpm tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 timestamp="2025-11-17T17:31:46.653+0530"
2025-11-17T17:31:46.654+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=security.encrypt tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 tf_resource_type=hypervapiv2_vm @module=sdk.framework tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_rpc=ApplyResourceChange timestamp="2025-11-17T17:31:46.653+0530"
2025-11-17T17:31:46.654+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_attribute_path=security tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:31:46.653+0530"
2025-11-17T17:31:46.655+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=vm_lifecycle.delete_disks tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 tf_rpc=ApplyResourceChange tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:31:46.653+0530"
2025-11-17T17:31:46.655+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange @module=sdk.framework tf_attribute_path=vm_lifecycle @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 timestamp="2025-11-17T17:31:46.653+0530"
2025-11-17T17:31:46.655+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=disk[0].controller tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 tf_rpc=ApplyResourceChange tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:31:46.655+0530"
2025-11-17T17:31:46.655+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=disk[0].boot tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange timestamp="2025-11-17T17:31:46.655+0530"
2025-11-17T17:31:46.655+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange @module=sdk.framework tf_attribute_path=disk[0].lun tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 timestamp="2025-11-17T17:31:46.655+0530"
2025-11-17T17:31:46.655+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @module=sdk.framework tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=disk[0].name tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:31:46.655+0530"
2025-11-17T17:31:46.656+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange @module=sdk.framework @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=disk[0].purpose tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 timestamp="2025-11-17T17:31:46.655+0530"
2025-11-17T17:31:46.656+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_attribute_path=disk[0].clone_from tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework timestamp="2025-11-17T17:31:46.655+0530"
2025-11-17T17:31:46.656+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_attribute_path=disk[0].path tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 @module=sdk.framework tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 timestamp="2025-11-17T17:31:46.655+0530"
2025-11-17T17:31:46.656+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @module=sdk.framework tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=disk[0] tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_rpc=ApplyResourceChange timestamp="2025-11-17T17:31:46.655+0530"
2025-11-17T17:31:46.656+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 tf_rpc=ApplyResourceChange @module=sdk.framework tf_attribute_path=disk tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 timestamp="2025-11-17T17:31:46.655+0530"
2025-11-17T17:31:46.656+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=firmware.secure_boot tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 @module=sdk.framework tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange timestamp="2025-11-17T17:31:46.655+0530"
2025-11-17T17:31:46.656+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @module=sdk.framework tf_attribute_path=firmware.secure_boot_template tf_rpc=ApplyResourceChange tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 timestamp="2025-11-17T17:31:46.655+0530"
2025-11-17T17:31:46.656+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=firmware tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:31:46.655+0530"
2025-11-17T17:31:46.658+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: diagnostic_severity=WARNING diagnostic_summary="clone enqueue" tf_proto_version=6.6 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 diagnostic_detail="from=C:/HyperV/VHDX/Users/templates/windows-base.vhdx to=C:\HyperV\VHDX\Users\test-user\user-sample-windows-vm-4.vhdx" tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 @module=sdk.proto timestamp="2025-11-17T17:31:46.658+0530"
2025-11-17T17:31:46.658+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: diagnostic_severity=WARNING diagnostic_summary="clone complete" tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 @module=sdk.proto tf_proto_version=6.6 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_rpc=ApplyResourceChange diagnostic_detail=target=C:\HyperV\VHDX\Users\test-user\user-sample-windows-vm-4.vhdx timestamp="2025-11-17T17:31:46.658+0530"
2025-11-17T17:31:46.658+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: @module=sdk.proto diagnostic_detail=name=user-sample-windows-vm-4 diagnostic_severity=WARNING tf_proto_version=6.6 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 diagnostic_summary="createvm request" tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange timestamp="2025-11-17T17:31:46.658+0530"
2025-11-17T17:31:46.658+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: diagnostic_detail=user-sample-windows-vm-4 diagnostic_summary="createvm ok" tf_proto_version=6.6 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 diagnostic_severity=WARNING tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange @module=sdk.proto timestamp="2025-11-17T17:31:46.658+0530"
2025-11-17T17:31:46.659+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: diagnostic_detail="attachExisting=True; wrapper_failed_native_fallback; native_ms=6766; attach_os_vhd path=C:\HyperV\VHDX\Users\test-user\user-sample-windows-vm-4.vhdx; set_cpu count=4; set_memory mb=4096" diagnostic_severity=WARNING tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 tf_rpc=ApplyResourceChange @module=sdk.proto diagnostic_summary=server tf_proto_version=6.6 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 timestamp="2025-11-17T17:31:46.658+0530"
2025-11-17T17:31:46.659+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 diagnostic_detail="secure_boot=true template=MicrosoftWindows" tf_proto_version=6.6 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 @module=sdk.proto diagnostic_severity=WARNING diagnostic_summary=firmware tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange timestamp="2025-11-17T17:31:46.659+0530"
2025-11-17T17:31:46.659+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 @module=sdk.proto diagnostic_severity=WARNING tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_rpc=ApplyResourceChange diagnostic_detail="Server reports CPU count=0, expected=4" diagnostic_summary="vm cpu mismatch" tf_proto_version=6.6 tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 timestamp="2025-11-17T17:31:46.659+0530"
2025-11-17T17:31:46.659+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: @module=sdk.proto diagnostic_detail="Server reports startupMB=0, expected=4096" diagnostic_severity=WARNING diagnostic_summary="vm memory mismatch" tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 tf_proto_version=6.6 tf_req_id=75818f5c-a3a3-3b34-bd04-94e7bb1ff4a8 tf_rpc=ApplyResourceChange timestamp="2025-11-17T17:31:46.659+0530"
2025-11-17T17:31:46.667+0530 [DEBUG] provider.stdio: received EOF, stopping recv loop: err="rpc error: code = Unavailable desc = error reading from server: EOF"
2025-11-17T17:31:46.683+0530 [INFO]  provider: plugin process exited: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe id=31208
2025-11-17T17:31:46.683+0530 [DEBUG] provider: plugin exited
2025-11-17T17:43:50.814+0530 [INFO]  Terraform version: 1.13.4
2025-11-17T17:43:50.814+0530 [DEBUG] using github.com/hashicorp/go-tfe v1.74.1
2025-11-17T17:43:50.814+0530 [DEBUG] using github.com/hashicorp/hcl/v2 v2.24.0
2025-11-17T17:43:50.814+0530 [DEBUG] using github.com/hashicorp/terraform-svchost v0.1.1
2025-11-17T17:43:50.814+0530 [DEBUG] using github.com/zclconf/go-cty v1.16.3
2025-11-17T17:43:50.814+0530 [INFO]  Go runtime version: go1.24.5
2025-11-17T17:43:50.814+0530 [INFO]  CLI args: []string{"C:\\Program Files (x86)\\terraform\\terraform.exe", "apply", "-auto-approve", "-input=false", "-var", "endpoint=http://localhost:5006", "-var", "vm_name=user-sample-windows-vm-5", "-var", "base_vhdx_path=C:/HyperV/VHDX/Users/templates/windows-base.vhdx"}
2025-11-17T17:43:50.814+0530 [DEBUG] Attempting to open CLI config file: C:\Users\ws-user\Documents\projects\hyper-v-experiments\terraform-provider-hypervapi-v2\dev.tfrc
2025-11-17T17:43:50.814+0530 [INFO]  Loading CLI configuration from C:\Users\ws-user\Documents\projects\hyper-v-experiments\terraform-provider-hypervapi-v2\dev.tfrc
2025-11-17T17:43:50.814+0530 [DEBUG] Not reading CLI config directory because config location is overridden by environment variable
2025-11-17T17:43:50.824+0530 [DEBUG] checking for credentials in "C:\\Users\\ws-user\\AppData\\Roaming\\terraform.d\\plugins"
2025-11-17T17:43:50.824+0530 [DEBUG] Explicit provider installation configuration is set
2025-11-17T17:43:50.824+0530 [INFO]  CLI command args: []string{"apply", "-auto-approve", "-input=false", "-var", "endpoint=http://localhost:5006", "-var", "vm_name=user-sample-windows-vm-5", "-var", "base_vhdx_path=C:/HyperV/VHDX/Users/templates/windows-base.vhdx"}
2025-11-17T17:43:50.829+0530 [DEBUG] Provider registry.terraform.io/vinitsiriya/hypervapiv2 is overridden by dev_overrides
2025-11-17T17:43:50.829+0530 [DEBUG] Provider registry.terraform.io/vinitsiriya/hypervapiv2 is overridden to load from C:\Users\ws-user\Documents\projects\hyper-v-experiments\terraform-provider-hypervapi-v2\bin
2025-11-17T17:43:50.829+0530 [DEBUG] checking for provisioner in "."
2025-11-17T17:43:50.829+0530 [DEBUG] checking for provisioner in "C:\\Program Files (x86)\\terraform"
2025-11-17T17:43:50.829+0530 [DEBUG] checking for provisioner in "C:\\Users\\ws-user\\AppData\\Roaming\\terraform.d\\plugins"
2025-11-17T17:43:50.829+0530 [DEBUG] Provider registry.terraform.io/vinitsiriya/hypervapiv2 is overridden by dev_overrides
2025-11-17T17:43:50.835+0530 [INFO]  backend/local: starting Apply operation
2025-11-17T17:43:50.854+0530 [DEBUG] Config.VerifyDependencySelections: skipping registry.terraform.io/vinitsiriya/hypervapiv2 because it's overridden by a special configuration setting
2025-11-17T17:43:50.854+0530 [DEBUG] backend/local: Skipping interactive prompts for variables because input is disabled
2025-11-17T17:43:50.854+0530 [DEBUG] created provider logger: level=debug
2025-11-17T17:43:50.854+0530 [INFO]  provider: configuring client automatic mTLS
2025-11-17T17:43:51.262+0530 [DEBUG] provider: starting plugin: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe args=["C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe"]
2025-11-17T17:43:51.278+0530 [DEBUG] provider: plugin started: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe pid=31984
2025-11-17T17:43:51.279+0530 [DEBUG] provider: waiting for RPC address: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe
2025-11-17T17:43:51.402+0530 [INFO]  provider.terraform-provider-hypervapiv2.exe: configuring server automatic mTLS: timestamp="2025-11-17T17:43:51.402+0530"
2025-11-17T17:43:51.443+0530 [DEBUG] provider: using plugin: version=6
2025-11-17T17:43:51.443+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: plugin address: address=127.0.0.1:10000 network=tcp timestamp="2025-11-17T17:43:51.443+0530"
2025-11-17T17:43:51.620+0530 [DEBUG] No provider meta schema returned
2025-11-17T17:43:51.623+0530 [DEBUG] provider.stdio: received EOF, stopping recv loop: err="rpc error: code = Unavailable desc = error reading from server: EOF"
2025-11-17T17:43:51.638+0530 [INFO]  provider: plugin process exited: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe id=31984
2025-11-17T17:43:51.638+0530 [DEBUG] provider: plugin exited
2025-11-17T17:43:51.638+0530 [DEBUG] Building and walking validate graph
2025-11-17T17:43:51.639+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_policy.current" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:43:51.640+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:43:51.640+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_disk_plan.os" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:43:51.640+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_policy.current" references: []
2025-11-17T17:43:51.640+0530 [DEBUG] ReferenceTransformer: "var.endpoint" references: []
2025-11-17T17:43:51.640+0530 [DEBUG] ReferenceTransformer: "var.password" references: []
2025-11-17T17:43:51.640+0530 [DEBUG] ReferenceTransformer: "var.vm_name" references: []
2025-11-17T17:43:51.640+0530 [DEBUG] ReferenceTransformer: "var.base_vhdx_path" references: []
2025-11-17T17:43:51.640+0530 [DEBUG] ReferenceTransformer: "output.os_disk_path (expand)" references: [data.hypervapiv2_disk_plan.os]
2025-11-17T17:43:51.640+0530 [DEBUG] ReferenceTransformer: "output.base_vhdx (expand)" references: [var.base_vhdx_path]
2025-11-17T17:43:51.641+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win" references: [var.vm_name var.base_vhdx_path data.hypervapiv2_disk_plan.os]
2025-11-17T17:43:51.641+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_disk_plan.os" references: [var.vm_name var.base_vhdx_path]
2025-11-17T17:43:51.641+0530 [DEBUG] ReferenceTransformer: "var.username" references: []
2025-11-17T17:43:51.641+0530 [DEBUG] ReferenceTransformer: "output.policy_roots (expand)" references: [data.hypervapiv2_policy.current]
2025-11-17T17:43:51.641+0530 [DEBUG] ReferenceTransformer: "output.policy_extensions (expand)" references: [data.hypervapiv2_policy.current]
2025-11-17T17:43:51.641+0530 [DEBUG] ReferenceTransformer: "provider[\"registry.terraform.io/vinitsiriya/hypervapiv2\"]" references: [var.endpoint var.password var.username]
2025-11-17T17:43:51.643+0530 [DEBUG] Starting graph walk: walkValidate
2025-11-17T17:43:51.644+0530 [DEBUG] created provider logger: level=debug
2025-11-17T17:43:51.644+0530 [INFO]  provider: configuring client automatic mTLS
2025-11-17T17:43:51.850+0530 [DEBUG] provider: starting plugin: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe args=["C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe"]
2025-11-17T17:43:51.861+0530 [DEBUG] provider: plugin started: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe pid=10252
2025-11-17T17:43:51.862+0530 [DEBUG] provider: waiting for RPC address: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe
2025-11-17T17:43:51.991+0530 [INFO]  provider.terraform-provider-hypervapiv2.exe: configuring server automatic mTLS: timestamp="2025-11-17T17:43:51.990+0530"
2025-11-17T17:43:52.029+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: plugin address: address=127.0.0.1:10000 network=tcp timestamp="2025-11-17T17:43:52.029+0530"
2025-11-17T17:43:52.029+0530 [DEBUG] provider: using plugin: version=6
2025-11-17T17:43:52.230+0530 [DEBUG] provider.stdio: received EOF, stopping recv loop: err="rpc error: code = Unavailable desc = error reading from server: EOF"
2025-11-17T17:43:52.249+0530 [INFO]  provider: plugin process exited: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe id=10252
2025-11-17T17:43:52.249+0530 [DEBUG] provider: plugin exited
2025-11-17T17:43:52.249+0530 [INFO]  backend/local: apply calling Plan
2025-11-17T17:43:52.249+0530 [DEBUG] Building and walking plan graph for NormalMode
2025-11-17T17:43:52.250+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_disk_plan.os (expand)" (*terraform.nodeExpandPlannableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:43:52.250+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win (expand)" (*terraform.nodeExpandPlannableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:43:52.250+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_policy.current (expand)" (*terraform.nodeExpandPlannableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:43:52.251+0530 [DEBUG] ReferenceTransformer: "var.base_vhdx_path" references: []
2025-11-17T17:43:52.251+0530 [DEBUG] ReferenceTransformer: "output.os_disk_path (expand)" references: [data.hypervapiv2_disk_plan.os (expand)]
2025-11-17T17:43:52.251+0530 [DEBUG] ReferenceTransformer: "output.policy_extensions (expand)" references: [data.hypervapiv2_policy.current (expand)]
2025-11-17T17:43:52.251+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_disk_plan.os (expand)" references: [var.base_vhdx_path var.vm_name]
2025-11-17T17:43:52.251+0530 [DEBUG] ReferenceTransformer: "var.username" references: []
2025-11-17T17:43:52.251+0530 [DEBUG] ReferenceTransformer: "output.policy_roots (expand)" references: [data.hypervapiv2_policy.current (expand)]
2025-11-17T17:43:52.251+0530 [DEBUG] ReferenceTransformer: "output.base_vhdx (expand)" references: [var.base_vhdx_path]
2025-11-17T17:43:52.252+0530 [DEBUG] ReferenceTransformer: "provider[\"registry.terraform.io/vinitsiriya/hypervapiv2\"]" references: [var.endpoint var.password var.username]
2025-11-17T17:43:52.252+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win (expand)" references: [var.vm_name var.base_vhdx_path data.hypervapiv2_disk_plan.os (expand)]
2025-11-17T17:43:52.252+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_policy.current (expand)" references: []
2025-11-17T17:43:52.252+0530 [DEBUG] ReferenceTransformer: "var.endpoint" references: []
2025-11-17T17:43:52.252+0530 [DEBUG] ReferenceTransformer: "var.password" references: []
2025-11-17T17:43:52.252+0530 [DEBUG] ReferenceTransformer: "var.vm_name" references: []
2025-11-17T17:43:52.253+0530 [DEBUG] Starting graph walk: walkPlan
2025-11-17T17:43:52.254+0530 [DEBUG] created provider logger: level=debug
2025-11-17T17:43:52.255+0530 [INFO]  provider: configuring client automatic mTLS
2025-11-17T17:43:52.436+0530 [DEBUG] provider: starting plugin: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe args=["C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe"]
2025-11-17T17:43:52.444+0530 [DEBUG] provider: plugin started: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe pid=23548
2025-11-17T17:43:52.444+0530 [DEBUG] provider: waiting for RPC address: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe
2025-11-17T17:43:52.559+0530 [INFO]  provider.terraform-provider-hypervapiv2.exe: configuring server automatic mTLS: timestamp="2025-11-17T17:43:52.558+0530"
2025-11-17T17:43:52.585+0530 [DEBUG] provider: using plugin: version=6
2025-11-17T17:43:52.585+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: plugin address: address=127.0.0.1:10000 network=tcp timestamp="2025-11-17T17:43:52.585+0530"
2025-11-17T17:43:52.774+0530 [INFO]  provider.terraform-provider-hypervapiv2.exe: hypervapiv2 configured: @module=hypervapiv2 auth=negotiate endpoint=http://localhost:5006 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_rpc=ConfigureProvider @caller=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/internal/provider/provider.go:134 tf_req_id=e3d5e120-c78a-97cf-366f-f1cba30f6ae4 timestamp="2025-11-17T17:43:52.774+0530"
2025-11-17T17:43:52.774+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 diagnostic_detail="endpoint=http://localhost:5006, auth=negotiate" diagnostic_severity=WARNING diagnostic_summary="provider configured" tf_proto_version=6.6 @module=sdk.proto tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=e3d5e120-c78a-97cf-366f-f1cba30f6ae4 tf_rpc=ConfigureProvider timestamp="2025-11-17T17:43:52.774+0530"
2025-11-17T17:43:52.776+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_policy.current" references: []
2025-11-17T17:43:52.776+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_disk_plan.os" references: []
2025-11-17T17:43:52.913+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_attribute_path=clone_from @module=sdk.framework tf_data_source_type=hypervapiv2_disk_plan tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=31edfd42-a49c-3b34-efd1-cfd3ae9e3f58 tf_rpc=ReadDataSource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 timestamp="2025-11-17T17:43:52.912+0530"
2025-11-17T17:43:52.914+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_attribute_path=purpose tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=31edfd42-a49c-3b34-efd1-cfd3ae9e3f58 tf_rpc=ReadDataSource @module=sdk.framework tf_data_source_type=hypervapiv2_disk_plan @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 timestamp="2025-11-17T17:43:52.913+0530"
2025-11-17T17:43:52.914+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=31edfd42-a49c-3b34-efd1-cfd3ae9e3f58 tf_rpc=ReadDataSource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=vm_name tf_data_source_type=hypervapiv2_disk_plan timestamp="2025-11-17T17:43:52.913+0530"
2025-11-17T17:43:52.914+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @module=sdk.framework tf_data_source_type=hypervapiv2_disk_plan @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=operation tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=31edfd42-a49c-3b34-efd1-cfd3ae9e3f58 tf_rpc=ReadDataSource timestamp="2025-11-17T17:43:52.913+0530"
2025-11-17T17:43:52.916+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win" references: []
2025-11-17T17:43:52.952+0530 [ERROR] provider.terraform-provider-hypervapiv2.exe: Response contains error diagnostic: tf_resource_type=hypervapiv2_vm tf_rpc=ReadResource diagnostic_detail="Cannot load PowerShell snap-in Microsoft.PowerShell.Diagnostics because of the following error: Could not find file 'C:\Users\ws-user\Documents\projects\hyper-v-experiments\hyperv-mgmt-api-v2\src\HyperV.Management.Api\bin\Debug\net8.0\runtimes\win\lib\net8.0\Microsoft.PowerShell.Commands.Diagnostics.dll'. (code=error, requestId=)" diagnostic_severity=ERROR diagnostic_summary="read failed" tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=508b28b0-54af-8154-6e89-dc8fd320fc7c @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:58 @module=sdk.proto tf_proto_version=6.6 timestamp="2025-11-17T17:43:52.952+0530"
2025-11-17T17:43:52.955+0530 [ERROR] vertex "hypervapiv2_vm.win" error: read failed
2025-11-17T17:43:52.955+0530 [ERROR] vertex "hypervapiv2_vm.win (expand)" error: read failed
2025-11-17T17:43:52.957+0530 [WARN]  Planning encountered errors, so plan is not applyable
2025-11-17T17:43:52.969+0530 [DEBUG] provider.stdio: received EOF, stopping recv loop: err="rpc error: code = Unavailable desc = error reading from server: EOF"
2025-11-17T17:43:52.983+0530 [INFO]  provider: plugin process exited: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe id=23548
2025-11-17T17:43:52.989+0530 [DEBUG] provider: plugin exited
2025-11-17T17:45:59.641+0530 [INFO]  Terraform version: 1.13.4
2025-11-17T17:45:59.641+0530 [DEBUG] using github.com/hashicorp/go-tfe v1.74.1
2025-11-17T17:45:59.641+0530 [DEBUG] using github.com/hashicorp/hcl/v2 v2.24.0
2025-11-17T17:45:59.641+0530 [DEBUG] using github.com/hashicorp/terraform-svchost v0.1.1
2025-11-17T17:45:59.641+0530 [DEBUG] using github.com/zclconf/go-cty v1.16.3
2025-11-17T17:45:59.641+0530 [INFO]  Go runtime version: go1.24.5
2025-11-17T17:45:59.641+0530 [INFO]  CLI args: []string{"C:\\Program Files (x86)\\terraform\\terraform.exe", "apply", "-auto-approve", "-input=false", "-var", "endpoint=http://localhost:5006", "-var", "vm_name=user-sample-windows-vm-5", "-var", "base_vhdx_path=C:/HyperV/VHDX/Users/templates/windows-base.vhdx"}
2025-11-17T17:45:59.641+0530 [DEBUG] Attempting to open CLI config file: C:\Users\ws-user\Documents\projects\hyper-v-experiments\terraform-provider-hypervapi-v2\dev.tfrc
2025-11-17T17:45:59.641+0530 [INFO]  Loading CLI configuration from C:\Users\ws-user\Documents\projects\hyper-v-experiments\terraform-provider-hypervapi-v2\dev.tfrc
2025-11-17T17:45:59.641+0530 [DEBUG] Not reading CLI config directory because config location is overridden by environment variable
2025-11-17T17:45:59.648+0530 [DEBUG] checking for credentials in "C:\\Users\\ws-user\\AppData\\Roaming\\terraform.d\\plugins"
2025-11-17T17:45:59.648+0530 [DEBUG] Explicit provider installation configuration is set
2025-11-17T17:45:59.648+0530 [INFO]  CLI command args: []string{"apply", "-auto-approve", "-input=false", "-var", "endpoint=http://localhost:5006", "-var", "vm_name=user-sample-windows-vm-5", "-var", "base_vhdx_path=C:/HyperV/VHDX/Users/templates/windows-base.vhdx"}
2025-11-17T17:45:59.656+0530 [DEBUG] Provider registry.terraform.io/vinitsiriya/hypervapiv2 is overridden by dev_overrides
2025-11-17T17:45:59.656+0530 [DEBUG] Provider registry.terraform.io/vinitsiriya/hypervapiv2 is overridden to load from C:\Users\ws-user\Documents\projects\hyper-v-experiments\terraform-provider-hypervapi-v2\bin
2025-11-17T17:45:59.657+0530 [DEBUG] checking for provisioner in "."
2025-11-17T17:45:59.657+0530 [DEBUG] checking for provisioner in "C:\\Program Files (x86)\\terraform"
2025-11-17T17:45:59.657+0530 [DEBUG] checking for provisioner in "C:\\Users\\ws-user\\AppData\\Roaming\\terraform.d\\plugins"
2025-11-17T17:45:59.658+0530 [DEBUG] Provider registry.terraform.io/vinitsiriya/hypervapiv2 is overridden by dev_overrides
2025-11-17T17:45:59.660+0530 [INFO]  backend/local: starting Apply operation
2025-11-17T17:45:59.676+0530 [DEBUG] Config.VerifyDependencySelections: skipping registry.terraform.io/vinitsiriya/hypervapiv2 because it's overridden by a special configuration setting
2025-11-17T17:45:59.676+0530 [DEBUG] backend/local: Skipping interactive prompts for variables because input is disabled
2025-11-17T17:45:59.677+0530 [DEBUG] created provider logger: level=debug
2025-11-17T17:45:59.677+0530 [INFO]  provider: configuring client automatic mTLS
2025-11-17T17:46:00.025+0530 [DEBUG] provider: starting plugin: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe args=["C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe"]
2025-11-17T17:46:00.031+0530 [DEBUG] provider: plugin started: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe pid=21832
2025-11-17T17:46:00.039+0530 [DEBUG] provider: waiting for RPC address: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe
2025-11-17T17:46:00.123+0530 [INFO]  provider.terraform-provider-hypervapiv2.exe: configuring server automatic mTLS: timestamp="2025-11-17T17:46:00.122+0530"
2025-11-17T17:46:00.161+0530 [DEBUG] provider: using plugin: version=6
2025-11-17T17:46:00.171+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: plugin address: address=127.0.0.1:10000 network=tcp timestamp="2025-11-17T17:46:00.161+0530"
2025-11-17T17:46:00.386+0530 [DEBUG] No provider meta schema returned
2025-11-17T17:46:00.389+0530 [DEBUG] provider.stdio: received EOF, stopping recv loop: err="rpc error: code = Unavailable desc = error reading from server: EOF"
2025-11-17T17:46:00.404+0530 [INFO]  provider: plugin process exited: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe id=21832
2025-11-17T17:46:00.405+0530 [DEBUG] provider: plugin exited
2025-11-17T17:46:00.405+0530 [DEBUG] Building and walking validate graph
2025-11-17T17:46:00.406+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:46:00.406+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_disk_plan.os" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:46:00.406+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_policy.current" (*terraform.NodeValidatableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:46:00.407+0530 [DEBUG] ReferenceTransformer: "output.os_disk_path (expand)" references: [data.hypervapiv2_disk_plan.os]
2025-11-17T17:46:00.407+0530 [DEBUG] ReferenceTransformer: "output.policy_extensions (expand)" references: [data.hypervapiv2_policy.current]
2025-11-17T17:46:00.407+0530 [DEBUG] ReferenceTransformer: "provider[\"registry.terraform.io/vinitsiriya/hypervapiv2\"]" references: [var.endpoint var.password var.username]
2025-11-17T17:46:00.407+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_disk_plan.os" references: [var.vm_name var.base_vhdx_path]
2025-11-17T17:46:00.407+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_policy.current" references: []
2025-11-17T17:46:00.408+0530 [DEBUG] ReferenceTransformer: "var.username" references: []
2025-11-17T17:46:00.408+0530 [DEBUG] ReferenceTransformer: "var.vm_name" references: []
2025-11-17T17:46:00.408+0530 [DEBUG] ReferenceTransformer: "output.policy_roots (expand)" references: [data.hypervapiv2_policy.current]
2025-11-17T17:46:00.408+0530 [DEBUG] ReferenceTransformer: "output.base_vhdx (expand)" references: [var.base_vhdx_path]
2025-11-17T17:46:00.408+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win" references: [var.vm_name var.base_vhdx_path data.hypervapiv2_disk_plan.os]
2025-11-17T17:46:00.408+0530 [DEBUG] ReferenceTransformer: "var.base_vhdx_path" references: []
2025-11-17T17:46:00.408+0530 [DEBUG] ReferenceTransformer: "var.endpoint" references: []
2025-11-17T17:46:00.408+0530 [DEBUG] ReferenceTransformer: "var.password" references: []
2025-11-17T17:46:00.409+0530 [DEBUG] Starting graph walk: walkValidate
2025-11-17T17:46:00.413+0530 [DEBUG] created provider logger: level=debug
2025-11-17T17:46:00.414+0530 [INFO]  provider: configuring client automatic mTLS
2025-11-17T17:46:00.565+0530 [DEBUG] provider: starting plugin: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe args=["C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe"]
2025-11-17T17:46:00.570+0530 [DEBUG] provider: plugin started: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe pid=24740
2025-11-17T17:46:00.572+0530 [DEBUG] provider: waiting for RPC address: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe
2025-11-17T17:46:00.663+0530 [INFO]  provider.terraform-provider-hypervapiv2.exe: configuring server automatic mTLS: timestamp="2025-11-17T17:46:00.663+0530"
2025-11-17T17:46:00.674+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: plugin address: address=127.0.0.1:10000 network=tcp timestamp="2025-11-17T17:46:00.674+0530"
2025-11-17T17:46:00.674+0530 [DEBUG] provider: using plugin: version=6
2025-11-17T17:46:00.880+0530 [DEBUG] provider.stdio: received EOF, stopping recv loop: err="rpc error: code = Unavailable desc = error reading from server: EOF"
2025-11-17T17:46:00.892+0530 [INFO]  provider: plugin process exited: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe id=24740
2025-11-17T17:46:00.899+0530 [DEBUG] provider: plugin exited
2025-11-17T17:46:00.900+0530 [INFO]  backend/local: apply calling Plan
2025-11-17T17:46:00.900+0530 [DEBUG] Building and walking plan graph for NormalMode
2025-11-17T17:46:00.900+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_disk_plan.os (expand)" (*terraform.nodeExpandPlannableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:46:00.900+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_policy.current (expand)" (*terraform.nodeExpandPlannableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:46:00.900+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win (expand)" (*terraform.nodeExpandPlannableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:46:00.901+0530 [DEBUG] ReferenceTransformer: "output.base_vhdx (expand)" references: [var.base_vhdx_path]
2025-11-17T17:46:00.901+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win (expand)" references: [var.vm_name data.hypervapiv2_disk_plan.os (expand) var.base_vhdx_path]
2025-11-17T17:46:00.902+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_disk_plan.os (expand)" references: [var.vm_name var.base_vhdx_path]
2025-11-17T17:46:00.902+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_policy.current (expand)" references: []
2025-11-17T17:46:00.902+0530 [DEBUG] ReferenceTransformer: "var.endpoint" references: []
2025-11-17T17:46:00.902+0530 [DEBUG] ReferenceTransformer: "output.policy_roots (expand)" references: [data.hypervapiv2_policy.current (expand)]
2025-11-17T17:46:00.902+0530 [DEBUG] ReferenceTransformer: "provider[\"registry.terraform.io/vinitsiriya/hypervapiv2\"]" references: [var.endpoint var.password var.username]
2025-11-17T17:46:00.902+0530 [DEBUG] ReferenceTransformer: "var.username" references: []
2025-11-17T17:46:00.902+0530 [DEBUG] ReferenceTransformer: "var.password" references: []
2025-11-17T17:46:00.902+0530 [DEBUG] ReferenceTransformer: "var.vm_name" references: []
2025-11-17T17:46:00.902+0530 [DEBUG] ReferenceTransformer: "var.base_vhdx_path" references: []
2025-11-17T17:46:00.902+0530 [DEBUG] ReferenceTransformer: "output.os_disk_path (expand)" references: [data.hypervapiv2_disk_plan.os (expand)]
2025-11-17T17:46:00.902+0530 [DEBUG] ReferenceTransformer: "output.policy_extensions (expand)" references: [data.hypervapiv2_policy.current (expand)]
2025-11-17T17:46:00.902+0530 [DEBUG] Starting graph walk: walkPlan
2025-11-17T17:46:00.903+0530 [DEBUG] created provider logger: level=debug
2025-11-17T17:46:00.904+0530 [INFO]  provider: configuring client automatic mTLS
2025-11-17T17:46:01.094+0530 [DEBUG] provider: starting plugin: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe args=["C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe"]
2025-11-17T17:46:01.105+0530 [DEBUG] provider: plugin started: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe pid=17424
2025-11-17T17:46:01.106+0530 [DEBUG] provider: waiting for RPC address: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe
2025-11-17T17:46:01.195+0530 [INFO]  provider.terraform-provider-hypervapiv2.exe: configuring server automatic mTLS: timestamp="2025-11-17T17:46:01.195+0530"
2025-11-17T17:46:01.228+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: plugin address: address=127.0.0.1:10000 network=tcp timestamp="2025-11-17T17:46:01.228+0530"
2025-11-17T17:46:01.228+0530 [DEBUG] provider: using plugin: version=6
2025-11-17T17:46:01.352+0530 [INFO]  provider.terraform-provider-hypervapiv2.exe: hypervapiv2 configured: @module=hypervapiv2 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=d9e91572-f65c-3d2c-e870-732e733e8adf tf_rpc=ConfigureProvider @caller=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/internal/provider/provider.go:134 auth=negotiate endpoint=http://localhost:5006 timestamp="2025-11-17T17:46:01.352+0530"
2025-11-17T17:46:01.352+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: diagnostic_detail="endpoint=http://localhost:5006, auth=negotiate" tf_proto_version=6.6 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_rpc=ConfigureProvider diagnostic_severity=WARNING diagnostic_summary="provider configured" tf_req_id=d9e91572-f65c-3d2c-e870-732e733e8adf @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 @module=sdk.proto timestamp="2025-11-17T17:46:01.352+0530"
2025-11-17T17:46:01.354+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_policy.current" references: []
2025-11-17T17:46:01.354+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_disk_plan.os" references: []
2025-11-17T17:46:01.466+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @module=sdk.framework tf_data_source_type=hypervapiv2_disk_plan tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=clone_from tf_req_id=82f33a7f-3984-82eb-be64-28481892223e tf_rpc=ReadDataSource timestamp="2025-11-17T17:46:01.466+0530"
2025-11-17T17:46:01.467+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @module=sdk.framework tf_data_source_type=hypervapiv2_disk_plan tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=82f33a7f-3984-82eb-be64-28481892223e tf_attribute_path=operation tf_rpc=ReadDataSource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 timestamp="2025-11-17T17:46:01.467+0530"
2025-11-17T17:46:01.467+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=82f33a7f-3984-82eb-be64-28481892223e @module=sdk.framework tf_attribute_path=vm_name tf_data_source_type=hypervapiv2_disk_plan tf_rpc=ReadDataSource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 timestamp="2025-11-17T17:46:01.467+0530"
2025-11-17T17:46:01.467+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_attribute_path=purpose @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_data_source_type=hypervapiv2_disk_plan tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=82f33a7f-3984-82eb-be64-28481892223e tf_rpc=ReadDataSource timestamp="2025-11-17T17:46:01.467+0530"
2025-11-17T17:46:01.470+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win" references: []
2025-11-17T17:46:06.498+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_req_id=39c4b9c4-4f3f-74ee-6f91-7b6f9c2ddf56 tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_rpc=ReadResource tf_attribute_path=id timestamp="2025-11-17T17:46:06.498+0530"
2025-11-17T17:46:06.498+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=power tf_req_id=39c4b9c4-4f3f-74ee-6f91-7b6f9c2ddf56 tf_rpc=ReadResource tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:46:06.498+0530"
2025-11-17T17:46:06.498+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=switch_name tf_req_id=39c4b9c4-4f3f-74ee-6f91-7b6f9c2ddf56 @module=sdk.framework tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm tf_rpc=ReadResource timestamp="2025-11-17T17:46:06.498+0530"
2025-11-17T17:46:06.498+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @module=sdk.framework tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=39c4b9c4-4f3f-74ee-6f91-7b6f9c2ddf56 tf_resource_type=hypervapiv2_vm tf_rpc=ReadResource tf_attribute_path=name @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 timestamp="2025-11-17T17:46:06.498+0530"
2025-11-17T17:46:06.499+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_attribute_path=cpu tf_req_id=39c4b9c4-4f3f-74ee-6f91-7b6f9c2ddf56 tf_rpc=ReadResource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:46:06.498+0530"
2025-11-17T17:46:06.499+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @module=sdk.framework tf_resource_type=hypervapiv2_vm tf_rpc=ReadResource tf_attribute_path=memory tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=39c4b9c4-4f3f-74ee-6f91-7b6f9c2ddf56 @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 timestamp="2025-11-17T17:46:06.498+0530"
2025-11-17T17:46:06.499+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_req_id=39c4b9c4-4f3f-74ee-6f91-7b6f9c2ddf56 tf_attribute_path=security.tpm tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm tf_rpc=ReadResource timestamp="2025-11-17T17:46:06.499+0530"
2025-11-17T17:46:06.499+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @module=sdk.framework tf_resource_type=hypervapiv2_vm tf_rpc=ReadResource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=security.encrypt tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=39c4b9c4-4f3f-74ee-6f91-7b6f9c2ddf56 timestamp="2025-11-17T17:46:06.499+0530"
2025-11-17T17:46:06.499+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @module=sdk.framework tf_attribute_path=security tf_req_id=39c4b9c4-4f3f-74ee-6f91-7b6f9c2ddf56 tf_resource_type=hypervapiv2_vm tf_rpc=ReadResource tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 timestamp="2025-11-17T17:46:06.499+0530"
2025-11-17T17:46:06.500+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @module=sdk.framework tf_attribute_path=vm_lifecycle.delete_disks tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=39c4b9c4-4f3f-74ee-6f91-7b6f9c2ddf56 tf_resource_type=hypervapiv2_vm tf_rpc=ReadResource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 timestamp="2025-11-17T17:46:06.499+0530"
2025-11-17T17:46:06.500+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @module=sdk.framework tf_req_id=39c4b9c4-4f3f-74ee-6f91-7b6f9c2ddf56 tf_resource_type=hypervapiv2_vm tf_attribute_path=vm_lifecycle tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_rpc=ReadResource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 timestamp="2025-11-17T17:46:06.499+0530"
2025-11-17T17:46:06.500+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_rpc=ReadResource @module=sdk.framework tf_attribute_path=disk[0].purpose tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_req_id=39c4b9c4-4f3f-74ee-6f91-7b6f9c2ddf56 tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:46:06.500+0530"
2025-11-17T17:46:06.500+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=39c4b9c4-4f3f-74ee-6f91-7b6f9c2ddf56 tf_resource_type=hypervapiv2_vm tf_attribute_path=disk[0].controller tf_rpc=ReadResource timestamp="2025-11-17T17:46:06.500+0530"
2025-11-17T17:46:06.500+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=39c4b9c4-4f3f-74ee-6f91-7b6f9c2ddf56 tf_rpc=ReadResource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=disk[0].lun tf_resource_type=hypervapiv2_vm @module=sdk.framework timestamp="2025-11-17T17:46:06.500+0530"
2025-11-17T17:46:06.500+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @module=sdk.framework tf_rpc=ReadResource tf_attribute_path=disk[0].path tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=39c4b9c4-4f3f-74ee-6f91-7b6f9c2ddf56 tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 timestamp="2025-11-17T17:46:06.500+0530"
2025-11-17T17:46:06.500+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @module=sdk.framework tf_resource_type=hypervapiv2_vm tf_rpc=ReadResource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=disk[0].boot tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=39c4b9c4-4f3f-74ee-6f91-7b6f9c2ddf56 timestamp="2025-11-17T17:46:06.500+0530"
2025-11-17T17:46:06.501+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=disk[0].name tf_req_id=39c4b9c4-4f3f-74ee-6f91-7b6f9c2ddf56 tf_resource_type=hypervapiv2_vm tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_rpc=ReadResource timestamp="2025-11-17T17:46:06.500+0530"
2025-11-17T17:46:06.501+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_resource_type=hypervapiv2_vm tf_rpc=ReadResource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=disk[0].clone_from tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=39c4b9c4-4f3f-74ee-6f91-7b6f9c2ddf56 timestamp="2025-11-17T17:46:06.500+0530"
2025-11-17T17:46:06.501+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_attribute_path=disk[0] tf_req_id=39c4b9c4-4f3f-74ee-6f91-7b6f9c2ddf56 tf_rpc=ReadResource @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm @module=sdk.framework timestamp="2025-11-17T17:46:06.500+0530"
2025-11-17T17:46:06.501+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @module=sdk.framework tf_attribute_path=disk tf_req_id=39c4b9c4-4f3f-74ee-6f91-7b6f9c2ddf56 @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm tf_rpc=ReadResource timestamp="2025-11-17T17:46:06.500+0530"
2025-11-17T17:46:06.502+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_attribute_path=firmware.secure_boot_template tf_req_id=39c4b9c4-4f3f-74ee-6f91-7b6f9c2ddf56 tf_resource_type=hypervapiv2_vm tf_rpc=ReadResource tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework timestamp="2025-11-17T17:46:06.501+0530"
2025-11-17T17:46:06.502+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_attribute_path=firmware.secure_boot tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=39c4b9c4-4f3f-74ee-6f91-7b6f9c2ddf56 tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_rpc=ReadResource timestamp="2025-11-17T17:46:06.501+0530"
2025-11-17T17:46:06.502+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_req_id=39c4b9c4-4f3f-74ee-6f91-7b6f9c2ddf56 tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=firmware tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_rpc=ReadResource timestamp="2025-11-17T17:46:06.502+0530"
2025-11-17T17:46:06.526+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Detected value change between proposed new state and prior state: tf_attribute_path=name tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=cf68441c-fa77-e740-6651-174339af6391 tf_rpc=PlanResourceChange @module=sdk.framework tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwserver/server_planresourcechange.go:208 timestamp="2025-11-17T17:46:06.526+0530"
2025-11-17T17:46:06.526+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Detected value change between proposed new state and prior state: tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm tf_rpc=PlanResourceChange tf_req_id=cf68441c-fa77-e740-6651-174339af6391 @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwserver/server_planresourcechange.go:208 @module=sdk.framework tf_attribute_path=disk timestamp="2025-11-17T17:46:06.526+0530"
2025-11-17T17:46:06.526+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Marking Computed attributes with null configuration values as unknown (known after apply) in the plan to prevent potential Terraform errors: tf_resource_type=hypervapiv2_vm @module=sdk.framework tf_rpc=PlanResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwserver/server_planresourcechange.go:217 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=cf68441c-fa77-e740-6651-174339af6391 timestamp="2025-11-17T17:46:06.526+0530"
2025-11-17T17:46:06.527+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: marking computed attribute that is null in the config as unknown: @module=sdk.framework tf_attribute_path="AttributeName(\"id\")" tf_req_id=cf68441c-fa77-e740-6651-174339af6391 tf_rpc=PlanResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwserver/server_planresourcechange.go:467 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:46:06.526+0530"
2025-11-17T17:46:06.544+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Marking Computed attributes with null configuration values as unknown (known after apply) in the plan to prevent potential Terraform errors: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwserver/server_planresourcechange.go:217 @module=sdk.framework tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=e9fee71f-907d-fd79-73e9-e7b9fca69e66 tf_rpc=PlanResourceChange tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:46:06.543+0530"
2025-11-17T17:46:06.547+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: marking computed attribute that is null in the config as unknown: tf_rpc=PlanResourceChange @module=sdk.framework tf_attribute_path="AttributeName(\"id\")" tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=e9fee71f-907d-fd79-73e9-e7b9fca69e66 tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwserver/server_planresourcechange.go:467 timestamp="2025-11-17T17:46:06.546+0530"
2025-11-17T17:46:06.557+0530 [DEBUG] provider.stdio: received EOF, stopping recv loop: err="rpc error: code = Unavailable desc = error reading from server: EOF"
2025-11-17T17:46:06.576+0530 [INFO]  provider: plugin process exited: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe id=17424
2025-11-17T17:46:06.576+0530 [DEBUG] provider: plugin exited
2025-11-17T17:46:06.578+0530 [DEBUG] building apply graph to check for errors
2025-11-17T17:46:06.579+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:46:06.579+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_policy.current (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:46:06.579+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win (destroy)" (*terraform.NodeDestroyResourceInstance) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:46:06.579+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_disk_plan.os (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:46:06.579+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win" (*terraform.NodeApplyableResourceInstance) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:46:06.580+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win (expand)" references: [var.vm_name data.hypervapiv2_disk_plan.os (expand) var.base_vhdx_path]
2025-11-17T17:46:06.580+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_policy.current (expand)" references: []
2025-11-17T17:46:06.580+0530 [DEBUG] ReferenceTransformer: "output.policy_extensions (expand)" references: [data.hypervapiv2_policy.current (expand)]
2025-11-17T17:46:06.580+0530 [DEBUG] ReferenceTransformer: "output.os_disk_path (expand)" references: [data.hypervapiv2_disk_plan.os (expand)]
2025-11-17T17:46:06.580+0530 [DEBUG] ReferenceTransformer: "var.vm_name" references: []
2025-11-17T17:46:06.580+0530 [DEBUG] ReferenceTransformer: "var.endpoint" references: []
2025-11-17T17:46:06.580+0530 [DEBUG] ReferenceTransformer: "output.base_vhdx (expand)" references: [var.base_vhdx_path]
2025-11-17T17:46:06.580+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_disk_plan.os (expand)" references: [var.base_vhdx_path var.vm_name]
2025-11-17T17:46:06.580+0530 [DEBUG] ReferenceTransformer: "var.username" references: []
2025-11-17T17:46:06.580+0530 [DEBUG] ReferenceTransformer: "var.password" references: []
2025-11-17T17:46:06.580+0530 [DEBUG] ReferenceTransformer: "var.base_vhdx_path" references: []
2025-11-17T17:46:06.580+0530 [DEBUG] ReferenceTransformer: "output.policy_roots (expand)" references: [data.hypervapiv2_policy.current (expand)]
2025-11-17T17:46:06.580+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win" references: [var.vm_name var.base_vhdx_path data.hypervapiv2_disk_plan.os (expand)]
2025-11-17T17:46:06.581+0530 [DEBUG] ReferenceTransformer: "provider[\"registry.terraform.io/vinitsiriya/hypervapiv2\"]" references: [var.endpoint var.password var.username]
2025-11-17T17:46:06.585+0530 [INFO]  backend/local: apply calling Apply
2025-11-17T17:46:06.585+0530 [DEBUG] Building and walking apply graph for NormalMode plan
2025-11-17T17:46:06.586+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win (destroy)" (*terraform.NodeDestroyResourceInstance) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:46:06.586+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_disk_plan.os (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:46:06.586+0530 [DEBUG] ProviderTransformer: "data.hypervapiv2_policy.current (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:46:06.586+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win (expand)" (*terraform.nodeExpandApplyableResource) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:46:06.586+0530 [DEBUG] ProviderTransformer: "hypervapiv2_vm.win" (*terraform.NodeApplyableResourceInstance) needs provider["registry.terraform.io/vinitsiriya/hypervapiv2"]
2025-11-17T17:46:06.586+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_disk_plan.os (expand)" references: [var.vm_name var.base_vhdx_path]
2025-11-17T17:46:06.586+0530 [DEBUG] ReferenceTransformer: "data.hypervapiv2_policy.current (expand)" references: []
2025-11-17T17:46:06.586+0530 [DEBUG] ReferenceTransformer: "output.base_vhdx (expand)" references: [var.base_vhdx_path]
2025-11-17T17:46:06.586+0530 [DEBUG] ReferenceTransformer: "output.os_disk_path (expand)" references: [data.hypervapiv2_disk_plan.os (expand)]
2025-11-17T17:46:06.587+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win (expand)" references: [var.vm_name data.hypervapiv2_disk_plan.os (expand) var.base_vhdx_path]
2025-11-17T17:46:06.587+0530 [DEBUG] ReferenceTransformer: "var.base_vhdx_path" references: []
2025-11-17T17:46:06.587+0530 [DEBUG] ReferenceTransformer: "var.endpoint" references: []
2025-11-17T17:46:06.587+0530 [DEBUG] ReferenceTransformer: "var.username" references: []
2025-11-17T17:46:06.587+0530 [DEBUG] ReferenceTransformer: "var.vm_name" references: []
2025-11-17T17:46:06.587+0530 [DEBUG] ReferenceTransformer: "output.policy_roots (expand)" references: [data.hypervapiv2_policy.current (expand)]
2025-11-17T17:46:06.587+0530 [DEBUG] ReferenceTransformer: "var.password" references: []
2025-11-17T17:46:06.587+0530 [DEBUG] ReferenceTransformer: "output.policy_extensions (expand)" references: [data.hypervapiv2_policy.current (expand)]
2025-11-17T17:46:06.587+0530 [DEBUG] ReferenceTransformer: "provider[\"registry.terraform.io/vinitsiriya/hypervapiv2\"]" references: [var.endpoint var.password var.username]
2025-11-17T17:46:06.588+0530 [DEBUG] ReferenceTransformer: "hypervapiv2_vm.win" references: [var.vm_name data.hypervapiv2_disk_plan.os (expand) var.base_vhdx_path]
2025-11-17T17:46:06.589+0530 [DEBUG] Starting graph walk: walkApply
2025-11-17T17:46:06.591+0530 [DEBUG] created provider logger: level=debug
2025-11-17T17:46:06.591+0530 [INFO]  provider: configuring client automatic mTLS
2025-11-17T17:46:06.687+0530 [DEBUG] provider: starting plugin: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe args=["C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe"]
2025-11-17T17:46:06.694+0530 [DEBUG] provider: plugin started: path=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe pid=22580
2025-11-17T17:46:06.696+0530 [DEBUG] provider: waiting for RPC address: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe
2025-11-17T17:46:06.788+0530 [INFO]  provider.terraform-provider-hypervapiv2.exe: configuring server automatic mTLS: timestamp="2025-11-17T17:46:06.788+0530"
2025-11-17T17:46:06.818+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: plugin address: address=127.0.0.1:10000 network=tcp timestamp="2025-11-17T17:46:06.812+0530"
2025-11-17T17:46:06.818+0530 [DEBUG] provider: using plugin: version=6
2025-11-17T17:46:06.967+0530 [INFO]  provider.terraform-provider-hypervapiv2.exe: hypervapiv2 configured: @caller=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/internal/provider/provider.go:134 @module=hypervapiv2 auth=negotiate tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=b8643330-484e-bdc8-d272-fa210e013616 endpoint=http://localhost:5006 tf_rpc=ConfigureProvider timestamp="2025-11-17T17:46:06.966+0530"
2025-11-17T17:46:06.967+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 @module=sdk.proto diagnostic_severity=WARNING tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_rpc=ConfigureProvider diagnostic_detail="endpoint=http://localhost:5006, auth=negotiate" diagnostic_summary="provider configured" tf_proto_version=6.6 tf_req_id=b8643330-484e-bdc8-d272-fa210e013616 timestamp="2025-11-17T17:46:06.967+0530"
2025-11-17T17:46:06.974+0530 [INFO]  Starting apply for hypervapiv2_vm.win
2025-11-17T17:46:06.974+0530 [DEBUG] hypervapiv2_vm.win: applying the planned Delete change
2025-11-17T17:46:30.267+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: @module=sdk.proto
  diagnostic_detail=
  | {
  |   "correlationId": null,
  |   "details": {
  |     "disks": [
  |       {
  |         "path": "C:\\HyperV\\VHDX\\Users\\test-user\\user-sample-windows-vm-4.vhdx",
  |         "reason": null,
  |         "status": "deleted"
  |       }
  |     ]
  |   },
  |   "message": "deleted; disks: 1 deleted, 0 failed",
  |   "name": "user-sample-windows-vm-4",
  |   "ok": true,
  |   "timeUtc": "2025-11-17T12:16:30.2495343+00:00",
  |   "vm": null,
  |   "vmId": "bb5a72f1-66c0-45a0-9794-6cc1701d850b"
  | }
   tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 diagnostic_severity=WARNING diagnostic_summary="delete response" tf_proto_version=6.6 tf_req_id=cd1ae8ae-69bf-fb70-524b-52fec9986526 tf_rpc=ApplyResourceChange timestamp="2025-11-17T17:46:30.267+0530"
2025-11-17T17:46:30.274+0530 [DEBUG] State storage *statemgr.Filesystem declined to persist a state snapshot
2025-11-17T17:46:30.288+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Marking Computed attributes with null configuration values as unknown (known after apply) in the plan to prevent potential Terraform errors: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwserver/server_planresourcechange.go:217 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=3326dc7a-15ea-8a19-6d3b-7aa9470c31e8 tf_resource_type=hypervapiv2_vm tf_rpc=PlanResourceChange @module=sdk.framework timestamp="2025-11-17T17:46:30.288+0530"
2025-11-17T17:46:30.292+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: marking computed attribute that is null in the config as unknown: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwserver/server_planresourcechange.go:467 tf_req_id=3326dc7a-15ea-8a19-6d3b-7aa9470c31e8 tf_resource_type=hypervapiv2_vm tf_rpc=PlanResourceChange @module=sdk.framework tf_attribute_path="AttributeName(\"id\")" tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 timestamp="2025-11-17T17:46:30.292+0530"
2025-11-17T17:46:30.301+0530 [INFO]  Starting apply for hypervapiv2_vm.win
2025-11-17T17:46:30.303+0530 [DEBUG] hypervapiv2_vm.win: applying the planned Create change
2025-11-17T17:48:16.695+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_rpc=ApplyResourceChange @module=sdk.framework tf_attribute_path=switch_name tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 timestamp="2025-11-17T17:48:16.695+0530"
2025-11-17T17:48:16.695+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=cpu tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm @module=sdk.framework timestamp="2025-11-17T17:48:16.695+0530"
2025-11-17T17:48:16.695+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_rpc=ApplyResourceChange tf_attribute_path=name @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:48:16.695+0530"
2025-11-17T17:48:16.696+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_resource_type=hypervapiv2_vm @module=sdk.framework tf_attribute_path=power tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 timestamp="2025-11-17T17:48:16.695+0530"
2025-11-17T17:48:16.696+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange @module=sdk.framework tf_attribute_path=memory @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 timestamp="2025-11-17T17:48:16.695+0530"
2025-11-17T17:48:16.697+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @module=sdk.framework tf_attribute_path=disk[0].lun tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 timestamp="2025-11-17T17:48:16.697+0530"
2025-11-17T17:48:16.697+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange @module=sdk.framework tf_attribute_path=disk[0].name timestamp="2025-11-17T17:48:16.697+0530"
2025-11-17T17:48:16.697+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=disk[0].purpose tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 tf_rpc=ApplyResourceChange @module=sdk.framework tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:48:16.697+0530"
2025-11-17T17:48:16.698+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=disk[0].boot tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm @module=sdk.framework timestamp="2025-11-17T17:48:16.697+0530"
2025-11-17T17:48:16.698+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_resource_type=hypervapiv2_vm tf_attribute_path=disk[0].clone_from tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 timestamp="2025-11-17T17:48:16.697+0530"
2025-11-17T17:48:16.698+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 tf_resource_type=hypervapiv2_vm tf_attribute_path=disk[0].path tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework timestamp="2025-11-17T17:48:16.697+0530"
2025-11-17T17:48:16.698+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=disk[0].controller tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange timestamp="2025-11-17T17:48:16.697+0530"
2025-11-17T17:48:16.698+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=disk[0] tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 timestamp="2025-11-17T17:48:16.697+0530"
2025-11-17T17:48:16.698+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 tf_rpc=ApplyResourceChange @module=sdk.framework tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=disk timestamp="2025-11-17T17:48:16.697+0530"
2025-11-17T17:48:16.698+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=firmware.secure_boot tf_rpc=ApplyResourceChange tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:48:16.697+0530"
2025-11-17T17:48:16.698+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_attribute_path=firmware.secure_boot_template tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework timestamp="2025-11-17T17:48:16.697+0530"
2025-11-17T17:48:16.698+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=firmware tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_rpc=ApplyResourceChange tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:48:16.697+0530"
2025-11-17T17:48:16.698+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 tf_rpc=ApplyResourceChange tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=security.encrypt timestamp="2025-11-17T17:48:16.697+0530"
2025-11-17T17:48:16.699+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_attribute_path=security.tpm tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm @module=sdk.framework tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 timestamp="2025-11-17T17:48:16.697+0530"
2025-11-17T17:48:16.699+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @module=sdk.framework tf_attribute_path=security tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:48:16.697+0530"
2025-11-17T17:48:16.699+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 tf_attribute_path=vm_lifecycle.delete_disks tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 @module=sdk.framework tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange timestamp="2025-11-17T17:48:16.698+0530"
2025-11-17T17:48:16.699+0530 [DEBUG] provider.terraform-provider-hypervapiv2.exe: Value switched to prior value due to semantic equality logic: tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-framework@v1.11.0/internal/fwschemadata/value_semantic_equality.go:91 @module=sdk.framework tf_attribute_path=vm_lifecycle tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 tf_rpc=ApplyResourceChange tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 timestamp="2025-11-17T17:48:16.698+0530"
2025-11-17T17:48:16.699+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: tf_rpc=ApplyResourceChange @module=sdk.proto tf_proto_version=6.6 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 diagnostic_detail="from=C:/HyperV/VHDX/Users/templates/windows-base.vhdx to=C:\HyperV\VHDX\Users\test-user\user-sample-windows-vm-5.vhdx" diagnostic_severity=WARNING diagnostic_summary="clone enqueue" tf_resource_type=hypervapiv2_vm timestamp="2025-11-17T17:48:16.698+0530"
2025-11-17T17:48:16.699+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: diagnostic_detail=target=C:\HyperV\VHDX\Users\test-user\user-sample-windows-vm-5.vhdx diagnostic_severity=WARNING diagnostic_summary="clone complete" tf_proto_version=6.6 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 tf_resource_type=hypervapiv2_vm @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 @module=sdk.proto tf_rpc=ApplyResourceChange timestamp="2025-11-17T17:48:16.698+0530"
2025-11-17T17:48:16.699+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: diagnostic_severity=WARNING tf_resource_type=hypervapiv2_vm diagnostic_summary="createvm request" tf_proto_version=6.6 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 @module=sdk.proto diagnostic_detail=name=user-sample-windows-vm-5 timestamp="2025-11-17T17:48:16.698+0530"
2025-11-17T17:48:16.699+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 @module=sdk.proto diagnostic_summary="createvm ok" tf_proto_version=6.6 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 tf_resource_type=hypervapiv2_vm diagnostic_detail=user-sample-windows-vm-5 diagnostic_severity=WARNING tf_rpc=ApplyResourceChange timestamp="2025-11-17T17:48:16.698+0530"
2025-11-17T17:48:16.700+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 @module=sdk.proto diagnostic_detail="attachExisting=True; wrapper_failed_native_fallback; native_ms=6123; attach_os_vhd path=C:\HyperV\VHDX\Users\test-user\user-sample-windows-vm-5.vhdx; set_cpu count=4; set_memory mb=4096" diagnostic_severity=WARNING tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 diagnostic_summary=server tf_proto_version=6.6 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 timestamp="2025-11-17T17:48:16.699+0530"
2025-11-17T17:48:16.700+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: diagnostic_severity=WARNING tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange diagnostic_detail="secure_boot=true template=MicrosoftWindows" diagnostic_summary=firmware tf_proto_version=6.6 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 @module=sdk.proto timestamp="2025-11-17T17:48:16.699+0530"
2025-11-17T17:48:16.700+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: @module=sdk.proto diagnostic_detail="Server reports CPU count=0, expected=4" diagnostic_severity=WARNING diagnostic_summary="vm cpu mismatch" tf_proto_version=6.6 tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange timestamp="2025-11-17T17:48:16.699+0530"
2025-11-17T17:48:16.700+0530 [WARN]  provider.terraform-provider-hypervapiv2.exe: Response contains warning diagnostic: diagnostic_summary="vm memory mismatch" tf_proto_version=6.6 tf_provider_addr=registry.terraform.io/vinitsiriya/hypervapiv2 tf_req_id=61a76fc3-9b37-1009-aa89-403b29b1e5e8 tf_resource_type=hypervapiv2_vm tf_rpc=ApplyResourceChange @caller=C:/Users/ws-user/go/pkg/mod/github.com/hashicorp/terraform-plugin-go@v0.23.0/tfprotov6/internal/diag/diagnostics.go:60 @module=sdk.proto diagnostic_detail="Server reports startupMB=0, expected=4096" diagnostic_severity=WARNING timestamp="2025-11-17T17:48:16.699+0530"
2025-11-17T17:48:16.705+0530 [DEBUG] provider.stdio: received EOF, stopping recv loop: err="rpc error: code = Unavailable desc = error reading from server: EOF"
2025-11-17T17:48:16.720+0530 [INFO]  provider: plugin process exited: plugin=C:/Users/ws-user/Documents/projects/hyper-v-experiments/terraform-provider-hypervapi-v2/bin/terraform-provider-hypervapiv2.exe id=22580
2025-11-17T17:48:16.720+0530 [DEBUG] provider: plugin exited
